<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقرير القطاع</title>
    <style>
        body {
            direction: rtl;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        label, select, input, textarea {
            display: block;
            margin: 10px 0;
            width: 100%;
        }
        .input-group {
            display: flex;
            align-items: center;
        }
        .input-group input {
            flex: 1;
        }
        .input-group span {
            margin: 0 5px;
        }
        .submit-btn {
            margin-top: 20px;
        }
        .add-textbox-btn {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>تقرير القطاع</h1>
        <form id="reportForm">
            <label for="date">التاريخ:</label>
            <input type="date" id="date" name="date" value="">

            <label for="sector">اسم القطاع:</label>
            <select id="sector" name="sector">
                <option value="">اختر القطاع</option>
                <option value="الشرقي">الشرقي</option>
                <option value="الغربي">الغربي</option>
                <option value="الوسط">الوسط</option>
                <option value="الشمال">الشمال</option>
                <option value="الجنوب">الجنوب</option>
            </select>
            
            <label for="time">الساعة:</label>
            <select id="time" name="time">
                <option value="">اختر الوقت</option>
                <option value="06:00 إلى 12:00">06:00 إلى 12:00</option>
                <option value="12:00 إلى 18:00">12:00 إلى 18:00</option>
                <option value="18:00 إلى 00:00">18:00 إلى 00:00</option>
                <option value="00:00 إلى 06:00">00:00 إلى 06:00</option>
            </select>

            <h2>السعة</h2>
            <label for="activeTeams">عدد الفرق العاملة:</label>
            <div class="input-group">
                <input type="number" id="activeTeams" name="activeTeams" value="">
                <span>من أصل</span>
                <input type="number" id="totalTeams" name="totalTeams" value="">
            </div>

            <label for="rapidResponseTeams">عدد فرق التدخل السريع:</label>
            <input type="number" id="rapidResponseTeams" name="rapidResponseTeams" value="">

            <label for="activeVehicles">عدد المركبات العاملة:</label>
            <input type="number" id="activeVehicles" name="activeVehicles" value="">

            <label for="brokenVehicles">عدد المركبات المتعطلة:</label>
            <input type="number" id="brokenVehicles" name="brokenVehicles" value="">

            <label for="logisticSupportReports">بلاغات الدعم اللوجستي المفتوحة:</label>
            <input type="number" id="logisticSupportReports" name="logisticSupportReports" value="">

            <label for="coordinationStaff">عدد العاملين في التنسيق والتحكم:</label>
            <input type="number" id="coordinationStaff" name="coordinationStaff" value="">

            <label for="hospitalsOff">قائمة المستشفيات خارج الخدمة:</label>
            <input type="number" id="hospitalsOff" name="hospitalsOff" value="">

            <h2>الطلب</h2>
            <label for="ecoReports">عدد بلاغات إنعاش إي.كو:</label>
            <input type="number" id="ecoReports" name="ecoReports" value="">

            <label for="deltaReports">عدد بلاغات دلتا:</label>
            <input type="number" id="deltaReports" name="deltaReports" value="">

            <label for="charlieReports">عدد بلاغات تشارلي:</label>
            <input type="number" id="charlieReports" name="charlieReports" value="">

            <label for="bravoReports">عدد بلاغات برافو:</label>
            <input type="number" id="bravoReports" name="bravoReports" value="">

            <label for="alphaReports">عدد بلاغات ألفا:</label>
            <input type="number" id="alphaReports" name="alphaReports" value="">

            <label for="omegaReports">عدد بلاغات أوميغا:</label>
            <input type="number" id="omegaReports" name="omegaReports" value="">

            <label for="catheterReports">عدد بلاغات القسطرة:</label>
            <input type="number" id="catheterReports" name="catheterReports" value="">

            <label for="strokeReports">عدد بلاغات السكتة الدماغية:</label>
            <input type="number" id="strokeReports" name="strokeReports" value="">

            <label for="totalSectorReports">إجمالي بلاغات القطاع:</label>
            <input type="number" id="totalSectorReports" name="totalSectorReports" value="">

            <h2>المخرجات</h2>
            <label for="avgWaitingTime">متوسط زمن الانتظار في قائمة الترحيل:</label>
            <input type="text" id="avgWaitingTime" name="avgWaitingTime" value="">

            <label for="topTeamReports">أعلى فرقة إسعافية في عدد البلاغات:</label>
            <textarea id="topTeamReports" name="topTeamReports" rows="2"></textarea>

            <label for="avgReportsPerTeam">متوسط عدد البلاغات لكل فرقة:</label>
            <input type="text" id="avgReportsPerTeam" name="avgReportsPerTeam" value="">

            <label for="responseTime8Min">نسبة زمن الاستجابة خلال 8 دقائق للبلاغات الساخنة:</label>
            <input type="text" id="responseTime8Min" name="responseTime8Min" value="">

            <label for="avgResponseTimeAccidents">متوسط زمن الاستجابة لبلاغات الحوادث المرورية الساخنة:</label>
            <input type="text" id="avgResponseTimeAccidents" name="avgResponseTimeAccidents" value="">

            <label for="totalResponseTimeSector">زمن الاستجابة الإجمالي للقطاع:</label>
            <input type="text" id="totalResponseTimeSector" name="totalResponseTimeSector" value="">

            <label for="patientsKingFahad">عدد المرضى المنقولين لمدينة الملك فهد الطبية لحالات الجلطة القلبية:</label>
            <input type="number" id="patientsKingFahad" name="patientsKingFahad" value="">

            <label for="patientsOtherHospitals">عدد المرضى الجلطات القلبية المنقولين للمستشفيات الأخرى:</label>
            <input type="number" id="patientsOtherHospitals" name="patientsOtherHospitals" value="">

            <h2>ملاحظات النوبة</h2>
            <label for="absences">عدد الغياب:</label>
            <input type="number" id="absences" name="absences" value="">

            <h2>الحالات المنقولة</h2>
            <label for="casesToGovernment">الحالات المنقولة للمنشآت الحكومية:</label>
            <input type="number" id="casesToGovernment" name="casesToGovernment" value="">

            <label for="casesToPrivate">الحالات المنقولة للمنشآت الخاصة:</label>
            <input type="number" id="casesToPrivate" name="casesToPrivate" value="">

            <label for="nonTransferredCases">الحالات غير المنقولة:</label>
            <input type="number" id="nonTransferredCases" name="nonTransferredCases" value="">

            <button type="submit" class="submit-btn">إرسال</button>
        </form>
    </div>

    <script>
        document.getElementById('date').valueAsDate = new Date();

        document.getElementById('reportForm').addEventListener('submit', function(event) {
            event.preventDefault();

            let date = document.getElementById('date').value;
            let sector = document.getElementById('sector').value;
            let time = document.getElementById('time').value;
            let activeTeams = document.getElementById('activeTeams').value;
            let totalTeams = document.getElementById('totalTeams').value;
            let rapidResponseTeams = document.getElementById('rapidResponseTeams').value;
            let activeVehicles = document.getElementById('activeVehicles').value;
            let brokenVehicles = document.getElementById('brokenVehicles').value;
            let logisticSupportReports = document.getElementById('logisticSupportReports').value;
            let coordinationStaff = document.getElementById('coordinationStaff').value;
            let hospitalsOff = document.getElementById('hospitalsOff').value;

            let ecoReports = document.getElementById('ecoReports').value;
            let deltaReports = document.getElementById('deltaReports').value;
            let charlieReports = document.getElementById('charlieReports').value;
            let bravoReports = document.getElementById('bravoReports').value;
            let alphaReports = document.getElementById('alphaReports').value;
            let omegaReports = document.getElementById('omegaReports').value;
            let catheterReports = document.getElementById('catheterReports').value;
            let strokeReports = document.getElementById('strokeReports').value;
            let totalSectorReports = document.getElementById('totalSectorReports').value;

            let avgWaitingTime = document.getElementById('avgWaitingTime').value;
            let topTeamReports = document.getElementById('topTeamReports').value;
            let avgReportsPerTeam = document.getElementById('avgReportsPerTeam').value;
            let responseTime8Min = document.getElementById('responseTime8Min').value;
            let avgResponseTimeAccidents = document.getElementById('avgResponseTimeAccidents').value;
            let totalResponseTimeSector = document.getElementById('totalResponseTimeSector').value;
            let patientsKingFahad = document.getElementById('patientsKingFahad').value;
            let patientsOtherHospitals = document.getElementById('patientsOtherHospitals').value;

            let absences = document.getElementById('absences').value;
            let casesToGovernment = document.getElementById('casesToGovernment').value;
            let casesToPrivate = document.getElementById('casesToPrivate').value;
            let nonTransferredCases = document.getElementById('nonTransferredCases').value;

            let xmlContent = `<?xml version="1.0" encoding="UTF-8"?>
<reports>
    <report>
        <date>${date}</date>
        <sector>${sector}</sector>
        <time>${time}</time>
        <capacity>
            <activeTeams>${activeTeams}</activeTeams>
            <totalTeams>${totalTeams}</totalTeams>
            <rapidResponseTeams>${rapidResponseTeams}</rapidResponseTeams>
            <activeVehicles>${activeVehicles}</activeVehicles>
            <brokenVehicles>${brokenVehicles}</brokenVehicles>
            <logisticSupportReports>${logisticSupportReports}</logisticSupportReports>
            <coordinationStaff>${coordinationStaff}</coordinationStaff>
            <hospitalsOff>${hospitalsOff}</hospitalsOff>
        </capacity>
        <demand>
            <ecoReports>${ecoReports}</ecoReports>
            <deltaReports>${deltaReports}</deltaReports>
            <charlieReports>${charlieReports}</charlieReports>
            <bravoReports>${bravoReports}</bravoReports>
            <alphaReports>${alphaReports}</alphaReports>
            <omegaReports>${omegaReports}</omegaReports>
            <catheterReports>${catheterReports}</catheterReports>
            <strokeReports>${strokeReports}</strokeReports>
            <totalSectorReports>${totalSectorReports}</totalSectorReports>
        </demand>
        <outputs>
            <avgWaitingTime>${avgWaitingTime}</avgWaitingTime>
            <topTeamReports>${topTeamReports}</topTeamReports>
            <avgReportsPerTeam>${avgReportsPerTeam}</avgReportsPerTeam>
            <responseTime8Min>${responseTime8Min}</responseTime8Min>
            <avgResponseTimeAccidents>${avgResponseTimeAccidents}</avgResponseTimeAccidents>
            <totalResponseTimeSector>${totalResponseTimeSector}</totalResponseTimeSector>
            <patientsKingFahad>${patientsKingFahad}</patientsKingFahad>
            <patientsOtherHospitals>${patientsOtherHospitals}</patientsOtherHospitals>
        </outputs>
        <shiftNotes>
            <absences>${absences}</absences>
            <casesToGovernment>${casesToGovernment}</casesToGovernment>
            <casesToPrivate>${casesToPrivate}</casesToPrivate>
            <nonTransferredCases>${nonTransferredCases}</nonTransferredCases>
        </shiftNotes>
    </report>
</reports>`;

            let blob = new Blob([xmlContent], { type: 'text/xml' });
            let url = URL.createObjectURL(blob);
            let a = document.createElement('a');
            a.href = url;
            a.download = 'reports.xml';
            a.click();
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>

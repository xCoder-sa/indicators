<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقرير كبير مسعفين منطقة الرياض</title>
    <style>
        body {
            direction: rtl;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        label, select, input, textarea {
            display: block;
            margin: 10px 0;
            width: 100%;
        }
        .submit-btn {
            margin-top: 20px;
        }
        .add-textbox-btn {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>تقرير كبير مسعفين منطقة الرياض</h1>
        <form id="reportForm">
            <label for="date">التاريخ:</label>
            <input type="date" id="date" name="date" value="">

            <label for="time">الساعة:</label>
            <select id="time" name="time">
                <option value="">اختر الوقت</option>
                <option value="06:00 إلى 12:00">06:00 إلى 12:00</option>
                <option value="12:00 إلى 18:00">12:00 إلى 18:00</option>
                <option value="18:00 إلى 00:00">18:00 إلى 00:00</option>
                <option value="00:00 إلى 06:00">00:00 إلى 06:00</option>
            </select>

            <label for="activeTeams">عدد الفرق العاملة بالمنطقة:</label>
            <input type="number" id="activeTeams" name="activeTeams" value="">

            <label for="rapidResponseTeams">عدد فرق التدخل السريع:</label>
            <input type="number" id="rapidResponseTeams" name="rapidResponseTeams" value="">

            <label for="activeVehicles">عدد المركبات العاملة:</label>
            <input type="number" id="activeVehicles" name="activeVehicles" value="">

            <label for="brokenVehicles">عدد المركبات المتعطلة:</label>
            <input type="number" id="brokenVehicles" name="brokenVehicles" value="">

            <label for="controlStaff">عدد العاملين في التنسيق والتحكم المناوبين:</label>
            <input type="number" id="controlStaff" name="controlStaff" value="">

            <label for="logisticsStaff">عدد العاملين في الدعم اللوجستي المناوبين:</label>
            <input type="number" id="logisticsStaff" name="logisticsStaff" value="">

            <label for="responseTime8Min">نسبة زمن الاستجابة خلال 8 دقائق للبلاغات الساخنة بمنطقة الرياض:</label>
            <input type="text" id="responseTime8Min" name="responseTime8Min" value="">

            <label for="trafficAccidentsResponseTime">متوسط زمن الاستجابة لبلاغات الحوادث المرورية الساخنة بمنطقة الرياض:</label>
            <input type="text" id="trafficAccidentsResponseTime" name="trafficAccidentsResponseTime" value="">

            <label for="totalResponseTime">زمن الاستجابة حتى المباشرة بمنطقة الرياض:</label>
            <input type="text" id="totalResponseTime" name="totalResponseTime" value="">

            <label for="echoCasesResponseTime">زمن الاستجابة لحالات إي.كو:</label>
            <input type="text" id="echoCasesResponseTime" name="echoCasesResponseTime" value="">

            <label for="topTeams">أعلى فرق إسعافية في زمن الاستجابة للقطاعات الداخلية:</label>
            <div id="topTeamsContainer">
                <input type="text" name="topTeams[]" value="">
            </div>
            <button type="button" id="addTextbox" class="add-textbox-btn">إضافة مربع نصي</button>

            <label for="shiftNotes">ملاحظات النوبة:</label>
            <textarea id="shiftNotes" name="shiftNotes" rows="3"></textarea>

            <button type="submit" class="submit-btn">إرسال</button>
        </form>
    </div>

    <script>
        document.getElementById('date').valueAsDate = new Date();

        document.getElementById('addTextbox').addEventListener('click', function() {
            const container = document.getElementById('topTeamsContainer');
            const input = document.createElement('input');
            input.type = 'text';
            input.name = 'topTeams[]';
            input.value = '';
            container.appendChild(input);
        });

        document.getElementById('reportForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            let date = document.getElementById('date').value;
            let time = document.getElementById('time').value;
            let activeTeams = document.getElementById('activeTeams').value;
            let rapidResponseTeams = document.getElementById('rapidResponseTeams').value;
            let activeVehicles = document.getElementById('activeVehicles').value;
            let brokenVehicles = document.getElementById('brokenVehicles').value;
            let controlStaff = document.getElementById('controlStaff').value;
            let logisticsStaff = document.getElementById('logisticsStaff').value;
            let responseTime8Min = document.getElementById('responseTime8Min').value;
            let trafficAccidentsResponseTime = document.getElementById('trafficAccidentsResponseTime').value;
            let totalResponseTime = document.getElementById('totalResponseTime').value;
            let echoCasesResponseTime = document.getElementById('echoCasesResponseTime').value;
            
            let topTeams = Array.from(document.querySelectorAll('input[name="topTeams[]"]')).map(input => input.value);
            let shiftNotes = document.getElementById('shiftNotes').value;
            
            let xmlContent = `<?xml version="1.0" encoding="UTF-8"?>
<report>
    <date>${date}</date>
    <time>${time}</time>
    <activeTeams>${activeTeams}</activeTeams>
    <rapidResponseTeams>${rapidResponseTeams}</rapidResponseTeams>
    <activeVehicles>${activeVehicles}</activeVehicles>
    <brokenVehicles>${brokenVehicles}</brokenVehicles>
    <controlStaff>${controlStaff}</controlStaff>
    <logisticsStaff>${logisticsStaff}</logisticsStaff>
    <responseTime8Min>${responseTime8Min}</responseTime8Min>
    <trafficAccidentsResponseTime>${trafficAccidentsResponseTime}</trafficAccidentsResponseTime>
    <totalResponseTime>${totalResponseTime}</totalResponseTime>
    <echoCasesResponseTime>${echoCasesResponseTime}</echoCasesResponseTime>
    <topTeams>${topTeams.join(', ')}</topTeams>
    <shiftNotes>${shiftNotes}</shiftNotes>
</report>`;
            
            let blob = new Blob([xmlContent], { type: 'text/xml' });
            let url = URL.createObjectURL(blob);
            let a = document.createElement('a');
            a.href = url;
            a.download = 'report.xml';
            a.click();
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>

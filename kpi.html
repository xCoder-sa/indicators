<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Indicators</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .chart-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
    }
    .chart-box {
      width: 45%; /* لضمان عرض رسمين في كل صف */
      margin: 20px 0;
    }
    canvas {
      width: 100%;
      height: 300px; /* تعديل حجم الرسم */
    }
  </style>
</head>
<body>
  <h1>مؤشرات الأداء</h1>
  
  <label for="sectorSelect">اختر القطاع:</label>
  <select id="sectorSelect" onchange="updateCharts()">
    <option value="">اختر القطاع</option>
    <option value="east">الشرق</option>
    <option value="west">الغرب</option>
    <option value="north">الشمال</option>
    <option value="south">الجنوب</option>
  </select>

  <div id="charts" class="chart-container">
    <!-- الرسوم البيانية الحالية -->
    <div class="chart-box">
      <canvas id="chart1"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="chart2"></canvas>
    </div>

    <!-- الرسوم البيانية الجديدة للمؤشرات -->
    <div class="chart-box">
      <canvas id="indicator1"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator2"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator3"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator4"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator5"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator6"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator7"></canvas>
    </div>
    <div class="chart-box">
      <canvas id="indicator8"></canvas>
    </div>
  </div>

  <script>
    let chartData = {}; // بيانات الرسوم البيانية لكل قطاع

    // إعداد الرسوم البيانية الفارغة
    const charts = [
      new Chart(document.getElementById('chart1'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('chart2'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator1'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator2'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator3'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator4'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator5'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator6'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator7'), { type: 'line', data: {}, options: {} }),
      new Chart(document.getElementById('indicator8'), { type: 'line', data: {}, options: {} }),
    ];

    function updateCharts() {
      const selectedSector = document.getElementById('sectorSelect').value;

      if (selectedSector && chartData[selectedSector]) {
        charts.forEach((chart, index) => {
          chart.data = chartData[selectedSector][index]; // تحديث بيانات كل رسم
          chart.update(); // تحديث الرسم
        });
      }
    }

    // مثال لبيانات وهمية، يمكن استبدالها ببيانات حقيقة من data.html
    chartData = {
      'east': [
        { labels: ['1', '2', '3', '4'], datasets: [{ data: [10, 20, 30, 40] }] }, // chart1
        { labels: ['1', '2', '3', '4'], datasets: [{ data: [5, 15, 25, 35] }] }, // chart2
        { labels: ['1', '2', '3', '4'], datasets: [{ data: [12, 22, 32, 42] }] }, // indicator1
        // إضافة بيانات باقي المؤشرات هنا...
      ],
      // إضافة بيانات لباقي القطاعات...
    };

    // تحميل بيانات الشهر بالكامل من ملف data.html
    fetch('https://xcoder-sa.github.io/indicators/data.html')
      .then(response => response.text())
      .then(data => {
        // معالجة البيانات هنا وتحديث الرسم البياني حسب القطاع
        console.log('بيانات تم تحميلها:', data);
      })
      .catch(error => console.error('خطأ في تحميل البيانات:', error));
  </script>
</body>
</html>

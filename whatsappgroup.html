<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة تحكم القيادات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 0;
            direction: rtl;
        }
        /* شريط التنقل العلوي */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #3498db; /* تغيير الخلفية إلى لون أزرق */
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        .navbar .logo {
            font-size: 24px;
            font-weight: bold;
            color: #ffffff; /* لون النص أبيض */
        }
        .menu-header {
            display: none; /* سيتم عرضه فقط على الشاشات الصغيرة */
            font-size: 18px;
            font-weight: bold;
            padding: 10px 20px;
            background-color: #3498db; /* مطابقة لون الخلفية */
            width: 100%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            color: #ffffff; /* لون النص أبيض */
        }
        .navbar .menu {
            display: flex;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        .navbar .menu li {
            margin-left: 20px;
        }
	/* تعديل مظهر الأزرار في شريط التنقل */
        .navbar .menu li a {
	    text-decoration: none;
	    color: #ffffff; /* لون النص أبيض */
	    font-size: 16px;
	    padding: 8px 12px;
	    border-radius: 4px;
	    border: 2px solid #fff; /* إضافة حدود بيضاء حول الأزرار */
	    transition: background-color 0.3s, color 0.3s, border-color 0.3s;
	    display: flex;
	    align-items: center;
	}
    p {
        background-color: #bfbfbf;
        text-align: center;
        padding: 10px;
        width: fit-content;
        margin: 0 auto;
        margin-bottom: 20px; /* مسافة بين العنصر والسطر الجديد */
        font-weight: bold;
        border-radius: 20px;
    }

        .navbar .menu li a i {
            margin-left: 5px;
        }
        /* تغيير لون الخلفية عند التمرير */
	.navbar .menu li a:hover {
	    background-color: #2980b9; /* لون أغمق عند التمرير */
	    color: #ecf0f1; /* تغيير لون النص عند التمرير */
	    border-color: #ecf0f1; /* تغيير لون الحدود عند التمرير */
	}

	/* لون مختلف عند التفعيل */
	.navbar .menu li a.active {
	    background-color: #1abc9c; /* لون مختلف عند التفعيل */
	    color: #ffffff;
	    border-color: #1abc9c; /* نفس لون الخلفية عند التفعيل */
	}

	/* سهم يشير إلى إمكانية السحب ويظهر فقط على الشاشات الصغيرة */
	@media (max-width: 767px) {
	    .navbar .menu::after {
	        content: '⟵ اسحب لرؤية المزيد';
	        color: #fff;
	        font-size: 14px;
	        position: absolute;
	        top: 50%;
	        right: 10px;
	        transform: translateY(-50%);
	        background-color: #3498db;
	        padding: 5px 10px;
	        border-radius: 4px;
	        display: block;  /* تأكيد العرض على الشاشات الصغيرة */
	    }
	}
	
	/* إخفاء السهم على الشاشات الكبيرة */
	@media (min-width: 768px) {
	    .navbar .menu::after {
	        display: none;
	    }
	}
        /* أيقونة الهامبرجر للهواتف */
        .hamburger {
            display: none;
            font-size: 24px;
            color: #ffffff; /* لون الأيقونة أبيض */
            cursor: pointer;
        }
        /* قائمة التنقل القابلة للتمرير على الهواتف */
        @media (max-width: 767px) {
            .navbar {
                flex-direction: column;
                align-items: flex-start;
            }
            .menu-header {
                display: block;
            }
            .menu {
                display: flex;
                overflow-x: auto;
                white-space: nowrap;
                width: 100%;
                background-color: #3498db; /* مطابقة لون الخلفية */
                padding: 10px 20px;
            }
            .menu li {
                margin: 0 10px;
            }
            .menu li a {
                padding: 10px 15px;
                display: inline-block;
            }
            .hamburger {
                display: none;
            }
        }
        /* تحسينات إضافية للتمرير الأفقي */
        .menu::-webkit-scrollbar {
            height: 8px;
        }

        .menu::-webkit-scrollbar-thumb {
            background-color: #ffffff;
            border-radius: 4px;
        }

        .menu::-webkit-scrollbar-track {
            background-color: #3498db;
        }
        /* المحتوى الرئيسي */
        .container {
            padding: 90px 20px 20px 20px; /* زيادة padding-top للعلامة الثابتة */
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }
    @media (max-width: 767px) {
    .container {
        padding-top: 150px; /* زيادة المساحة لتعويض ارتفاع شريط التنقل */
    }
}
        h2 {
            color: #3498db;
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }
        label {
            margin-top: 10px;
            display: block;
            color: #333;
            font-weight: bold;
            font-size: 15px;
        }
	/* تنسيق النص ومربعات التحديد */
	.checkbox-container {
	    display: flex;
	    align-items: center;
	    gap: 10px; /* مسافة بين مربع التحديد والنص */
	    margin-top: 10px;
	}	
	.checkbox-container label {
	    color: red; /* تحديد اللون الأحمر لنص "لا يوجد ملاحظات" */
	    font-weight: bold;
	    font-size: 15px;
	    cursor: pointer; /* لجعل النص قابل للنقر مع مربع التحديد */
	    white-space: nowrap; /* لمنع النص من الانقسام إلى سطرين */

	}
	.checkbox-container input[type="checkbox"] {
	    width: 20px; /* عرض مربع التحديد */
	    height: 20px; /* ارتفاع مربع التحديد */
	}
        input[type="text"], input[type="date"], input[type="time"], input[type="datetime-local"], textarea, select {
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus, input[type="date"]:focus, input[type="time"]:focus, select:focus {
            border-color: #3498db;
            outline: none;
        }
	input[type="number"] {
	    width: 100%; /* نفس عرض الحقول النصية */
	    padding: 10px; /* نفس المسافة الداخلية */
	    margin: 5px 0 15px; /* نفس المسافات المحيطة */
	    border: 1px solid #ccc; /* نفس الحدود */
	    border-radius: 6px; /* نفس الحواف المستديرة */
	    font-size: 14px; /* نفس حجم النص */
	    transition: border-color 0.3s; /* تأثير الانتقال للحدود */
	}
	
	input[type="number"]:focus {
	    border-color: #3498db; /* نفس لون الحدود عند التركيز */
	    outline: none; /* إزالة الخط الأزرق الافتراضي */
	}
        button {
            width: 100%;
            padding: 12px;
            background-color: #3498db;
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #1d6a9c;
        }
        .copy-notification {
            display: none;
            text-align: center;
            color: green;
            font-size: 14px;
            margin-top: 15px;
        }
        .form-section {
            margin-bottom: 30px;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
	.input-row {
	    display: flex;
	    gap: 10px; /* مسافة بين العناصر */
	    flex-wrap: wrap; /* السماح للعناصر بالالتفاف إذا ضاقت المساحة */
	}
	
	.input-small {
	    flex: 1;
	    min-width: 150px;
	    margin-bottom: 10px;
	}
	
	.input-small label {
	    display: block;
	    margin-bottom: 5px;
	}
	
	.input-small input {
	    width: 100%;
	    padding: 8px;
	    border: 1px solid #ccc;
	    border-radius: 4px;
	    box-sizing: border-box;
	}
	
	/* تصميم متجاوب لشاشات الهواتف المحمولة */
	@media (max-width: 767px) {
	    .input-row {
	        display: flex;
	        flex-direction: row; /* ترتيب الحقول في صف حتى على الشاشات الصغيرة */
	        gap: 5px; /* تقليل المسافة بين الحقول */
	    }
	
	    .input-small {
	        flex: 1;
	        min-width: 100px; /* ضبط عرض الحقول */
	        margin-bottom: 5px; /* تقليل المسافة أسفل الحقول */
	    }
	
	    .input-small input {
	        padding: 6px; /* تقليل الحشو الداخلي لتوفير مساحة */
	    }

    </style>
</head>
<body>

    <!-- شريط التنقل العلوي -->

    <nav class="navbar">
        <div class="logo">لوحة التحكم</div>
        <div class="menu-header">القائمة</div> <!-- العنوان الجديد -->
        <ul class="menu" id="menu">
            <li><a href="#" onclick="loadForm('senior_paramedic')" class="menu-item"><i class="fas fa-user-md"></i>نموذج كبار المسعفين قطاعات منطقة الرياض الداخلية</a></li>
	    <li><a href="#" onclick="loadForm('attendance')" class="menu-item"><i class="fas fa-check-circle"></i> نموذج تحضير</a></li>
            <li><a href="#" onclick="loadForm('rapid_response_reports')" class="menu-item"><i class="fas fa-car-crash"></i> نموذج بلاغات التدخل السريع</a></li>
            <li><a href="#" onclick="loadForm('senior_paramedic_outside')" class="menu-item"><i class="fas fa-user-md"></i> نموذج كبار المسعفين قطاعات منطقة الرياض الخارجية</a></li>
            <li><a href="#" onclick="loadForm('operational_failure')" class="menu-item"><i class="fas fa-exclamation-triangle"></i> نموذج فشل تشغيلي</a></li>
            <li><a href="#" onclick="loadForm('eco_reports')" class="menu-item"><i class="fas fa-file-alt"></i> نموذج بلاغات إيكو</a></li>
            <li><a href="#" onclick="loadForm('major_event')" class="menu-item"><i class="fas fa-calendar-alt"></i> نموذج حدث جسيم</a></li>
            <li><a href="#" onclick="loadForm('support_request')" class="menu-item"><i class="fas fa-handshake"></i> طلب تفعيل خطة المساندة</a></li>
            <li><a href="#" onclick="loadForm('support_activation')" class="menu-item"><i class="fas fa-check-circle"></i> قبول تفعيل خطة المساندة</a></li>
            <li><a href="#" onclick="loadForm('regional_leader_form')" class="menu-item"> <i class="fas fa-moon"></i> نموذج قائد المنطقة المناوب </a></li>

        </ul>
        <!-- إزالة أيقونة الهامبرجر -->
    </nav>

    <!-- المحتوى الرئيسي -->
    <div class="container" id="form-container">
        <!-- النموذج الحالي يظهر هنا -->
    </div>

    <div class="copy-notification" id="copyNotification">
        تم النسخ بنجاح! يمكنك الآن إرسالها في قروب القيادات.
    </div>

    <script>
        /*
        // إزالة أو تعليق الكود المتعلق بالهامبرجر
        const hamburger = document.getElementById('hamburger');
        const menu = document.getElementById('menu');

        // تفعيل أو إخفاء القائمة على الهواتف عند النقر على الهامبرجر
        hamburger.addEventListener('click', (e) => {
            e.stopPropagation(); // منع النقر من الانتشار خارج القائمة
            menu.classList.toggle('active');
        });

        // إخفاء القائمة عند النقر خارجها
        document.addEventListener('click', function(event) {
            if (!menu.contains(event.target) && !hamburger.contains(event.target)) {
                menu.classList.remove('active');
            }
        });
        */

        function loadForm(formName) {
            const formContainer = document.getElementById('form-container');
            let formHTML = '';


            if (formName === 'senior_paramedic') {
                formHTML = `
   <h2>نموذج كبار المسعفين داخلي</h2>
<p> يرسل كل 6 ساعات من قبل كبير مسعفين القطاع المناوب</p>
    <div class="form-section">
        <label for="sector">اختر القطاع:</label>
        <select id="sector" onchange="
            var teams = {
                'الوسط': 8,
                'الجنوب': 10,
                'الشرق': 15,
                'الغرب': 13,
                'الشمال': 12,
            };
            document.getElementById('total_teams').value = teams[this.value] || '';
            if (this.value === 'other') {
                document.getElementById('other_sector').style.display = 'block';
            } else {
                document.getElementById('other_sector').style.display = 'none';
            }
        " required>
            <option value="" disabled selected>اختر القطاع</option>
            <option value="الوسط">الوسط</option>
            <option value="الجنوب">الجنوب</option>
            <option value="الشرق">الشرق</option>
            <option value="الغرب">الغرب</option>
            <option value="الشمال">الشمال</option>
        </select>
        <input type="text" id="other_sector" placeholder="اكتب القطاع" style="display:none; margin-top: 10px;">
        
        <label for="date">التاريخ:</label>
        <input type="date" id="date" readonly disabled style="background-color: #e0e0e0;>
        
        <label for="time">التوقيت الحالي:</label>
        <select id="time" disabled style="color: gray;">
            <option value="0:00 إلى 6:00">0:00 إلى 6:00</option>
            <option value="6:00 إلى 12:00">6:00 إلى 12:00</option>
            <option value="12:00 إلى 18:00">12:00 إلى 18:00</option>
            <option value="18:00 إلى 0:00">18:00 إلى 0:00</option>
        </select>
                </div>
        <div class="form-section">
        <div class="input-row">
            <div class="input-small">
                <label for="working_teams">عدد الفرق العاملة:</label>
                <input type="number" id="working_teams" required>
            </div>
            <div class="input-small">
                <label for="total_teams">من أصل:</label>
                <input type="number" id="total_teams" readonly disabled style="background-color: #e0e0e0;">
            </div>
        </div>  

                        <div class="input-row">
                        <div class="input-small">
                            <label for="operating_vehicles">عدد المركبات العاملة:</label>
                            <input type="number" id="operating_vehicles" required>
                        </div>
                        <div class="input-small">
                            <label for="rapid_response_teams">عدد فرق التدخل السريع:</label>
                            <input type="number" id="rapid_response_teams" required>
                        </div>
                    </div>

                        <div class="input-row">
                        <div class="input-small">
                            <label for="broken_vehicles">عدد المركبات المتعطلة:</label>
                            <input type="number" id="broken_vehicles" required>
                        </div>
                        <div class="input-small">
                            <label for="reserve_vehicles">عدد المركبات الاحتياط:</label>
                            <input type="number" id="reserve_vehicles" required>
                        </div>
                    </div>
                        <div class="input-row">
                        <div class="input-small">
                    <label for="open_logistics_reports">بلاغات الدعم اللوجستي المفتوحة:</label>
                    <input type="number" id="open_logistics_reports" required>
                        </div>
                        <div class="input-small">
                    <label for="coordination_teams">عدد العاملين في التنسيق والتحكم:</label>
                    <input type="number" id="coordination_teams" required>
                        </div>
                    </div>
                        <div class="input-row">
                        <div class="input-small">
			<label for="logistics_support_teams">عدد العاملين في الدعم اللوجستي:</label>
                    <input type="number" id="logistics_support_teams" required>
                        </div>
                        <div class="input-small">
                    <label for="hospitals_out_of_service">قائمة المستشفيات خارج الخدمة:</label>
                    <input type="text" id="hospitals_out_of_service">
                        </div>
                    </div>
                    <h2>الطلب</h2>

		<div class="input-row">
		    <div class="input-small">
		        <label for="eco_reports">عدد بلاغات إيكو:</label>
		        <input type="number" id="eco_reports" oninput="calculateTotalReports()">
		    </div>
		    <div class="input-small">
		        <label for="delta_reports">عدد بلاغات دلتا:</label>
		        <input type="number" id="delta_reports" oninput="calculateTotalReports()">
		    </div>
		</div>
		
		<div class="input-row">
		    <div class="input-small">
		        <label for="charlie_reports">عدد بلاغات تشارلي:</label>
		        <input type="number" id="charlie_reports" oninput="calculateTotalReports()">
		    </div>
		    <div class="input-small">
		        <label for="bravo_reports">عدد بلاغات برافو:</label>
		        <input type="number" id="bravo_reports" oninput="calculateTotalReports()">
		    </div>
		</div>
		
		<div class="input-row">
		    <div class="input-small">
		        <label for="alpha_reports">عدد بلاغات ألفا:</label>
		        <input type="number" id="alpha_reports" oninput="calculateTotalReports()">
		    </div>
		    <div class="input-small">
		        <label for="omega_reports">عدد بلاغات أوميغا:</label>
		        <input type="number" id="omega_reports" oninput="calculateTotalReports()">
		    </div>
		</div>
  		<div class="input-row">
		    <div class="input-small">
		<label for="total_reports">إجمالي بلاغات القطاع:</label>
		<input type="number" id="total_reports" readonly style="background-color: #e0e0e0;">
		    </div>
		</div>
                    <h2>البلاغات</h2>
  		<div class="input-row">
		    <div class="input-small">
                    <label for="government_transfers">عدد الحالات المنقولة:</label>
                    <input type="number" id="government_transfers">
		    </div>
		</div>
		    <div class="input-small">
                    <label for="untransferred_cases">عدد الحالات الغير منقولة:</label>
                    <input type="number" id="untransferred_cases">
		    </div>
                    <h2>المخرجات</h2>
  		<div class="input-row">
		    <div class="input-small">
                    <label for="waiting_time">متوسط زمن الانتظار في قائمة الترحيل (بالدقائق):</label>
                    <input type="number" id="waiting_time">
		    </div>
		</div>
  		<div class="input-row">
		    <div class="input-small">
                    <label for="top_team">اعلى فرقة اسعافيه في عدد البلاغات:</label>
                    <input type="text" id="top_team">
		    </div>
		    <div class="input-small">
                    <label for="average_reports">متوسط عدد البلاغات للفرق الاسعافية:</label>
                    <input type="number" id="average_reports">
		    </div>
		</div>
  		<div class="input-row">
		    <div class="input-small">
                    <label for="response_rate">نسبة زمن الاستجابة خلال 8 دقائق للبلاغات الاسعافية بإستثناء حالات الفا:</label>
                    <input type="text" id="response_rate">
		    </div>
		</div>
  		<div class="input-row">
		    <div class="input-small">
                    <label for="average_response_time">متوسط زمن الاستجابة لبلاغات الحوادث المرورية:</label>
                    <input type="text" id="average_response_time">
		    </div>
		</div>
  		<div class="input-row">
	    <div class="input-small">
	        <label for="response_time_to_intervention">زمن الاستجابة من الرد الى الوصول (بالدقائق) :</label>
	        <input type="number" id="response_time_to_intervention" placeholder="أدخل الوقت بالدقائق رقم فقط">
	    </div>
	</div>
	
	<h2>ملاحظات النوبة</h2>
	
	<div class="input-row">
	    <div class="input-small">
	        <label for="absence_in_shift">عدد الغياب في المناوبة:</label>
	        <input type="text" id="absence_in_shift" required>
	    </div>
	</div>
	
	<div class="input-row">
	    <div class="input-small">
	        <label for="cad_program_notes">ملاحظات عامه:</label>
	        <!-- إضافة زر التحديد مع النص -->
	        <div class="checkbox-container">
	            <input type="checkbox" id="no_cad_notes_checkbox" onchange="
	                if(this.checked) {
	                    document.getElementById('cad_program_notes').value = 'لا يوجد';
	                    document.getElementById('cad_program_notes').disabled = true;
	                } else {
	                    document.getElementById('cad_program_notes').value = '';
	                    document.getElementById('cad_program_notes').disabled = false;
	                }
	            ">
	            <label for="no_cad_notes_checkbox">لا يوجد ملاحظات</label>
	            <textarea id="cad_program_notes" rows="4"></textarea>
	        </div>
	    </div>
	</div>
	
	<div class="input-row">
	    <div class="input-small">
	        <label for="senior_paramedic_name">كبير المسعفين المناوب:</label>
	        <input type="text" id="senior_paramedic_name" required>
	    </div>
	</div>

                <button onclick="sendWhatsAppMessage('senior_paramedic')">إرسال النموذج بالواتساب</button>
            `;
	      } else if (formName === 'attendance') {
            formHTML = `	    
    <div class="form-section">
        <h2>نموذج تحضير منطقة الرياض</h2>
        <p>صلاحيات قائد المنطقة يرسل بعد نصف ساعة من بداية المناوبة ويحدث في حال وجود مستجدات</p>
        
        <!-- معلومات أساسية -->
        <div class="form-section">
            <label for="date">التاريخ:</label>
            <input type="date" id="date" readonly disabled style="background-color: #e0e0e0;">
            
            <label for="shift">المناوبة:</label>
            <select id="shift" onchange="toggleOtherSectorInput()" required>
                <option value="صباحي">صباحي</option>
                <option value="مسائي">مسائي</option>
            </select>
        </div>
        
        <!-- تحضير القطاعات الداخلية -->
        <div class="form-section">
            <h2>تحضير القطاعات الداخلية</h2>
            <!-- قطاع الوسط -->
            <div class="input-row">
                <div class="input-small">
                    <label for="center_sector_teams">عدد فرق قطاع الوسط العاملة :</label>
                    <input type="number" id="center_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="center_sector_vehicles_work">مركبات قطاع الوسط العاملة :</label>
                    <input type="number" id="center_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="center_sector_vehicles_broken">مركبات قطاع الوسط المتعطلة :</label>
                    <input type="number" id="center_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الشرق -->
            <div class="input-row">
                <div class="input-small">
                    <label for="east_sector_teams">عدد فرق قطاع الشرق العاملة :</label>
                    <input type="number" id="east_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="east_sector_vehicles_work">مركبات قطاع الشرق العاملة :</label>
                    <input type="number" id="east_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="east_sector_vehicles_broken">مركبات قطاع الشرق المتعطلة :</label>
                    <input type="number" id="east_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الغرب -->
            <div class="input-row">
                <div class="input-small">
                    <label for="west_sector_teams">عدد فرق قطاع الغرب العاملة :</label>
                    <input type="number" id="west_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="west_sector_vehicles_work">مركبات قطاع الغرب العاملة :</label>
                    <input type="number" id="west_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="west_sector_vehicles_broken">مركبات قطاع الغرب المتعطلة :</label>
                    <input type="number" id="west_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الشمال -->
            <div class="input-row">
                <div class="input-small">
                    <label for="north_sector_teams">عدد فرق قطاع الشمال العاملة :</label>
                    <input type="number" id="north_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="north_sector_vehicles_work">مركبات قطاع الشمال العاملة :</label>
                    <input type="number" id="north_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="north_sector_vehicles_broken">مركبات قطاع الشمال المتعطلة :</label>
                    <input type="number" id="north_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الجنوب -->
            <div class="input-row">
                <div class="input-small">
                    <label for="south_sector_teams">عدد فرق قطاع الجنوب العاملة :</label>
                    <input type="number" id="south_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="south_sector_vehicles_work">مركبات قطاع الجنوب العاملة :</label>
                    <input type="number" id="south_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="south_sector_vehicles_broken">مركبات قطاع الجنوب المتعطلة :</label>
                    <input type="number" id="south_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
        </div>
        
        <!-- تحضير قطاعات منطقة الرياض الخارجية -->
        <div class="form-section">
            <h2>تحضير قطاعات منطقة الرياض الخارجية</h2>
            
            <!-- قطاع رماح -->
            <div class="input-row">
                <div class="input-small">
                    <label for="ramah_sector_teams">عدد فرق رماح العاملة :</label>
                    <input type="number" id="ramah_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="ramah_sector_vehicles_work">مركبات رماح العاملة :</label>
                    <input type="number" id="ramah_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="ramah_sector_vehicles_broken">مركبات رماح المتعطلة :</label>
                    <input type="number" id="ramah_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الأفلاج -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_aflag_sector_teams">عدد فرق الأفلاج العاملة :</label>
                    <input type="number" id="al_aflag_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_aflag_sector_vehicles_work">مركبات الأفلاج العاملة :</label>
                    <input type="number" id="al_aflag_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_aflag_sector_vehicles_broken">مركبات الأفلاج المتعطلة :</label>
                    <input type="number" id="al_aflag_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الخرج -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_kharj_sector_teams">عدد فرق الخرج العاملة :</label>
                    <input type="number" id="al_kharj_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_kharj_sector_vehicles_work">مركبات الخرج العاملة :</label>
                    <input type="number" id="al_kharj_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_kharj_sector_vehicles_broken">مركبات الخرج المتعطلة :</label>
                    <input type="number" id="al_kharj_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الدرعية -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_dariya_sector_teams">عدد فرق الدرعية العاملة :</label>
                    <input type="number" id="al_dariya_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_dariya_sector_vehicles_work">مركبات الدرعية العاملة :</label>
                    <input type="number" id="al_dariya_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_dariya_sector_vehicles_broken">مركبات الدرعية المتعطلة :</label>
                    <input type="number" id="al_dariya_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الدوادمي -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_dawadmi_sector_teams">عدد فرق الدوادمي العاملة :</label>
                    <input type="number" id="al_dawadmi_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_dawadmi_sector_vehicles_work">مركبات الدوادمي العاملة :</label>
                    <input type="number" id="al_dawadmi_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_dawadmi_sector_vehicles_broken">مركبات الدوادمي المتعطلة :</label>
                    <input type="number" id="al_dawadmi_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الزلفي -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_zulfi_sector_teams">عدد فرق الزلفي العاملة :</label>
                    <input type="number" id="al_zulfi_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_zulfi_sector_vehicles_work">مركبات الزلفي العاملة :</label>
                    <input type="number" id="al_zulfi_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_zulfi_sector_vehicles_broken">مركبات الزلفي المتعطلة :</label>
                    <input type="number" id="al_zulfi_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع الغاط -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_ghat_sector_teams">عدد فرق الغاط العاملة :</label>
                    <input type="number" id="al_ghat_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_ghat_sector_vehicles_work">مركبات الغاط العاملة :</label>
                    <input type="number" id="al_ghat_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_ghat_sector_vehicles_broken">مركبات الغاط المتعطلة :</label>
                    <input type="number" id="al_ghat_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع القويعية -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_quwayiyah_sector_teams">عدد فرق القويعية العاملة :</label>
                    <input type="number" id="al_quwayiyah_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_quwayiyah_sector_vehicles_work">مركبات القويعية العاملة :</label>
                    <input type="number" id="al_quwayiyah_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_quwayiyah_sector_vehicles_broken">مركبات القويعية المتعطلة :</label>
                    <input type="number" id="al_quwayiyah_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع المجمعة -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_majmaah_sector_teams">عدد فرق المجمعة العاملة :</label>
                    <input type="number" id="al_majmaah_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_majmaah_sector_vehicles_work">مركبات المجمعة العاملة :</label>
                    <input type="number" id="al_majmaah_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_majmaah_sector_vehicles_broken">مركبات المجمعة المتعطلة :</label>
                    <input type="number" id="al_majmaah_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع المزاحمية -->
            <div class="input-row">
                <div class="input-small">
                    <label for="al_muzahimiyah_sector_teams">عدد فرق المزاحمية العاملة :</label>
                    <input type="number" id="al_muzahimiyah_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_muzahimiyah_sector_vehicles_work">مركبات المزاحمية العاملة :</label>
                    <input type="number" id="al_muzahimiyah_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="al_muzahimiyah_sector_vehicles_broken">مركبات المزاحمية المتعطلة :</label>
                    <input type="number" id="al_muzahimiyah_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع حوطة بني تميم -->
            <div class="input-row">
                <div class="input-small">
                    <label for="hawtat_banee_tamim_sector_teams">عدد فرق حوطة بني تميم العاملة :</label>
                    <input type="number" id="hawtat_banee_tamim_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="hawtat_banee_tamim_sector_vehicles_work">مركبات حوطة بني تميم العاملة :</label>
                    <input type="number" id="hawtat_banee_tamim_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="hawtat_banee_tamim_sector_vehicles_broken">مركبات حوطة بني تميم المتعطلة :</label>
                    <input type="number" id="hawtat_banee_tamim_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع شقراء -->
            <div class="input-row">
                <div class="input-small">
                    <label for="shaqra_sector_teams">عدد فرق شقراء العاملة :</label>
                    <input type="number" id="shaqra_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="shaqra_sector_vehicles_work">مركبات شقراء العاملة :</label>
                    <input type="number" id="shaqra_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="shaqra_sector_vehicles_broken">مركبات شقراء المتعطلة :</label>
                    <input type="number" id="shaqra_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع عفيف -->
            <div class="input-row">
                <div class="input-small">
                    <label for="afif_sector_teams">عدد فرق عفيف العاملة :</label>
                    <input type="number" id="afif_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="afif_sector_vehicles_work">مركبات عفيف العاملة :</label>
                    <input type="number" id="afif_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="afif_sector_vehicles_broken">مركبات عفيف المتعطلة :</label>
                    <input type="number" id="afif_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
            
            <!-- قطاع وادي الدواسر -->
            <div class="input-row">
                <div class="input-small">
                    <label for="wadi_al_dawasir_sector_teams">عدد فرق وادي الدواسر العاملة :</label>
                    <input type="number" id="wadi_al_dawasir_sector_teams" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="wadi_al_dawasir_sector_vehicles_work">مركبات وادي الدواسر العاملة :</label>
                    <input type="number" id="wadi_al_dawasir_sector_vehicles_work" oninput="calculateTotals()" required>
                </div>
                <div class="input-small">
                    <label for="wadi_al_dawasir_sector_vehicles_broken">مركبات وادي الدواسر المتعطلة :</label>
                    <input type="number" id="wadi_al_dawasir_sector_vehicles_broken" oninput="calculateTotals()" required>
                </div>
            </div>
        </div>
        
<div class="form-section">
    <h2>إحصائيات منطقة الرياض</h2>       
    <!-- حساب الإجماليات -->
    <div class="form-section">
        <div class="input-small">
            <label for="internal_vehicles_total">إجمالي مركبات القطاعات الداخلية العاملة :</label>
            <input type="text" id="internal_vehicles_total" readonly style="background-color: #e0e0e0;" required>
        </div>
        <div class="input-small">
            <label for="external_vehicles_total">إجمالي مركبات القطاعات الخارجية العاملة :</label>
            <input type="text" id="external_vehicles_total" readonly style="background-color: #e0e0e0;" required>
        </div>
    </div>
    <div class="form-section">
        <div class="input-small">
            <label for="total_working_vehicles_riyadh">إجمالي المركبات العاملة في منطقة الرياض:</label>
            <input type="text" id="total_working_vehicles_riyadh" readonly style="background-color: #e0e0e0;" required>
        </div>
    </div>

    <!-- إجمالي الفرق العاملة -->
    <div class="form-section">
        <div class="input-small">
            <label for="internal_teams_total">إجمالي الفرق العاملة للقطاعات الداخلية :</label>
            <input type="text" id="internal_teams_total" readonly style="background-color: #e0e0e0;" required>
        </div>
        <div class="input-small">
            <label for="external_teams_total">إجمالي الفرق العاملة للقطاعات الخارجية :</label>
            <input type="text" id="external_teams_total" readonly style="background-color: #e0e0e0;" required>
        </div>
        <div class="input-small">
            <label for="total_working_teams_riyadh">إجمالي الفرق العاملة في منطقة الرياض :</label>
            <input type="text" id="total_working_teams_riyadh" readonly style="background-color: #e0e0e0;" required>
        </div>
    </div>

    <!-- إجمالي المركبات المتعطلة -->
    <div class="form-section">
        <div class="input-small">
            <label for="internal_broken_vehicles_total">إجمالي المركبات المتعطلة للقطاعات الداخلية :</label>
            <input type="text" id="internal_broken_vehicles_total" readonly style="background-color: #e0e0e0;" required>
        </div>
        <div class="input-small">
            <label for="external_broken_vehicles_total">إجمالي المركبات المتعطلة للقطاعات الخارجية :</label>
            <input type="text" id="external_broken_vehicles_total" readonly style="background-color: #e0e0e0;" required>
        </div>
        <div class="input-small">
            <label for="total_broken_vehicles_riyadh">إجمالي المركبات المتعطلة في منطقة الرياض :</label>
            <input type="text" id="total_broken_vehicles_riyadh" readonly style="background-color: #e0e0e0;" required>
        </div>
    </div>
</div>


		<label for="updateattendance">نسخة التحديث</label>
		<select id="updateattendance" onchange="toggleOtherSectorInput()">
		    <option value="نسخة 1">نسخة 1</option>
		    <option value="نسخة 2">نسخة 2</option>
		    <option value="نسخة 3">نسخة 3</option>
		    <option value="نسخة 4">نسخة 4</option>
		    <option value="نسخة 5">نسخة 5</option>
		</select>
                    <label for="senior_paramedic_attendance">قائد المنطقة المناوب :</label>
                    <input type="text" id="senior_paramedic_attendance" required>
		    </div>
		</div>
                <button onclick="sendWhatsAppMessage('attendance')">إرسال النموذج بالواتساب</button>
            `;
} else if (formName === 'rapid_response_reports') {
    formHTML = `
        <h2>نموذج بلاغات التدخل السريع</h2>
        <p>يرسل من قبل قائد المنطقة كل 6 ساعات</p>
        <div class="form-section">
            <label for="sector_west">قطاع عمليات الغرب:</label>
            <input type="number" id="sector_west" placeholder="أدخل العدد" oninput="calculateTotal()" required>

            <label for="sector_east">قطاع عمليات الشرق:</label>
            <input type="number" id="sector_east" placeholder="أدخل العدد" oninput="calculateTotal()" required>

            <label for="sector_central">قطاع عمليات الوسط:</label>
            <input type="number" id="sector_central" placeholder="أدخل العدد" oninput="calculateTotal()" required>

            <label for="sector_north">قطاع عمليات الشمال:</label>
            <input type="number" id="sector_north" placeholder="أدخل العدد" oninput="calculateTotal()" required>

            <label for="sector_south">قطاع عمليات الجنوب:</label>
            <input type="number" id="sector_south" placeholder="أدخل العدد" oninput="calculateTotal()" required>
	</div>
 		<div class="form-section">
            <label for="total_rapid_response_reports">إجمالي بلاغات التدخل السريع:</label>
            <input type="number" id="total_rapid_response_reports" placeholder="يظهر العدد بشكل تلقائي" readonly disabled style="background-color: #e0e0e0; color: #000; border: 1px solid #ccc; border-radius: 6px; padding: 10px;">
            
	    <label for="senior_paramedic_rapid_response_reports">قائد المنطقة المناوب :</label>
            <input type="text" id="senior_paramedic_rapid_response_reports" required>
	</div>
        <button onclick="sendWhatsAppMessage('rapid_response_reports')">إرسال النموذج بالواتساب</button>
    `;
	} else if (formName === 'senior_paramedic_outside') {
            formHTML = `
		<h2>نموذج كبار المسعفين قطاعات الرياض الخارجية</h2>
		<p>نموذج كبار المسعفين للقطاعات الخارجية يرسل كل 6 ساعات من قبل كبير المسعفين</p>
                <div class="form-section">
                    <label for="sector">اختر القطاع:</label>
                    <select id="sector" onchange="toggleOtherSectorInput()" required>
                        <option value="رماح">رماح</option>
                        <option value="الافلاج">الافلاج</option>
                        <option value="الخرج">الخرج</option>
                        <option value="الدرعية">الدرعية</option>
                        <option value="الدوادمي">الدوادمي</option>
                        <option value="الزلفي">الزلفي</option>
                        <option value="الغاط">الغاط</option>
                        <option value="القويعية">القويعية</option>
                        <option value="المجمعة">المجمعة</option>
                        <option value="المزاحمية">المزاحمية</option>
                        <option value="حوطة بني تميم">حوطة بني تميم</option>
                        <option value="شقراء">شقراء</option>
                        <option value="عفيف">عفيف</option>
                        <option value="وادي الدواسر">وادي الدواسر</option>
                    </select>

                    <label for="date">التاريخ:</label>
        <input type="date" id="date" readonly disabled style="background-color: #e0e0e0;>

                    <label for="time">التوقيت الحالي:</label>
                    <select id="time" required>
                        <option value="09:00 إلى 15:00">09:00 إلى 15:00</option>
                        <option value="15:00 إلى 21:00">15:00 إلى 21:00</option>
                        <option value="21:00 إلى 03:00">21:00 إلى 03:00</option>
                        <option value="03:00 إلى 09:00">03:00 إلى 09:00</option>
                    </select>
                </div>
        <div class="form-section">
        <div class="input-row">
            <div class="input-small">
                    <label for="working_teams">عدد الفرق العاملة:</label>
                    <input type="text" id="working_teams" required>
                 </div>
                        <div class="input-small">
                    <label for="total_teams">من أصل:</label>
                    <input type="text" id="total_teams">
                        </div>
                    </div>
                          <div class="input-row">
			<div class="input-small">
                            <label for="operating_vehicles">عدد المركبات العاملة:</label>
                            <input type="text" id="operating_vehicles" required>
                        </div>
                        <div class="input-small">
                            <label for="broken_vehicles">عدد المركبات المتعطلة:</label>
                            <input type="number" id="broken_vehicles" required>
                        </div>
                        <div class="input-small">
                            <label for="reserve_vehicles">عدد المركبات الاحتياط:</label>
                            <input type="number" id="reserve_vehicles" required>
                        </div>
                    </div>
                          <div class="input-row">
			<div class="input-small">
                    <label for="open_logistics_reports">بلاغات الدعم اللوجستي المفتوحة:</label>
                    <input type="text" id="open_logistics_reports" required>
                        </div>
                        <div class="input-small">
                    <label for="coordination_teams">عدد العاملين في التنسيق والتحكم:</label>
                    <input type="text" id="coordination_teams" required>
                        </div>
                    </div>
                          <div class="input-row">
			<div class="input-small">
                    <label for="logistics_support_teams">عدد العاملين في الدعم اللوجستي:</label>
                    <input type="text" id="logistics_support_teams" required>
                      </div>
                        <div class="input-small">
                    <label for="hospitals_out_of_service">قائمة المستشفيات خارج الخدمة:</label>
                    <input type="text" id="hospitals_out_of_service">
                        </div>
                    </div>
		<h2>البلاغات</h2>
		<div class="form-section">
		    <div class="input-row">
		        <div class="input-small">
		            <label for="total_reports">إجمالي بلاغات القطاع:</label>
		            <input type="number" id="total_reports" required>
		        </div>
		    </div>
		
		    <label for="related_reports">البلاغات:</label>
		    <div id="reports-container-1">
		        <div class="input-row"></div>
		
		        <!-- تغليف checkbox والنص في div واستخدام flexbox -->
		        <div style="display: flex; align-items: center; gap: 10px;">
		            <input type="checkbox" id="no_reports" onclick="toggleReports()" />
		            <label for="no_reports" style="font-weight: bold; color: red;">لا يوجد بلاغات</label>
		        </div>
		
		        <div class="input-row">
		            <input type="number" placeholder="رقم البلاغ" class="report-number" style="width: 120px;">
		            <select class="report-type" style="width: 120px;">
		                <option value="إيكو">إيكو</option>
		                <option value="دلتا">دلتا</option>
		                <option value="تشارلي">تشارلي</option>
		                <option value="برافو">برافو</option>
		            </select>
		            <input type="number" placeholder="(بالدقائق) زمن الاستجابة" class="waiting_time" style="width: 150px;">
		        </div>
		        <p>احسب زمن الاستجابة من الرد الى الوصول للموقع</p>
		    </div>
		
		    <!-- زر لإضافة بلاغ آخر -->
		    <button type="button" id="add-report-btn" onclick="relatedreports('reports-container-1', 'responseTime')">إضافة بلاغ آخر</button>
		</div>

                    <h2>المخرجات</h2>
                <div class="form-section">
                          <div class="input-row">
			<div class="input-small">
                    <label for="response_time_to_intervention">متوسط زمن الاستجابة (بالدقائق):</label>
                    <input type="number" id="response_time_to_intervention" placeholder="أدخل الوقت بالدقائق رقم فقط">
                        </div>
                    </div>
                </div>
                    <h2>ملاحظات النوبة</h2>
                <div class="form-section">
                          <div class="input-row">
			<div class="input-small">
                    <label for="absence_in_shift">عدد الغياب في المناوبة:</label>
                    <input type="text" id="absence_in_shift">
                      </div>
		       </div>
		 <div class="input-row">
		    <div class="input-small">
		        <label for="units_notes">نقاط اسعافية مكشوفة:</label>
		        <input type="text" id="units_notes" required>
		    </div>
		</div>
		<div class="input-row">
		    <div class="input-small">
		        <label for="outsider_notes">ملاحظات عامه:</label>
		        <!-- تنسيق مربع التحديد والنص باستخدام flexbox -->
		        <div class="checkbox-container">
		            <input type="checkbox" id="no_notes_checkbox" onchange="
		                if(this.checked) {
		                    document.getElementById('outsider_notes').value = 'لا يوجد ملاحظات';
		                    document.getElementById('outsider_notes').disabled = true;
		                } else {
		                    document.getElementById('outsider_notes').value = '';
		                    document.getElementById('outsider_notes').disabled = false;
		                }
		            ">
		            <label for="no_notes_checkbox">لا يوجد ملاحظات</label> <!-- النص هنا سيكون باللون الأحمر -->
		            <textarea id="outsider_notes" rows="4"></textarea>
		        </div>
		    </div>
		</div>
                          <div class="input-row">
			<div class="input-small">
                    <label for="senior_paramedic_name"> كبير المسعفين المناوب:</label>
                    <input type="text" id="senior_paramedic_name" required>
                    </div>
                </div>
                <button onclick="sendWhatsAppMessage('senior_paramedic_outside')">إرسال النموذج بالواتساب</button>
            `;
        } else if (formName === 'operational_failure') {
            formHTML = `
              <h2>نموذج فشل تشغيلي</h2>
              <p>يرسل من قبل كبار المسعفين في حال وجود فشل تشغيلي</p>
        
              <div class="form-section">
                  <div class="input-row">
                      <div class="input-small">
                          <label for="sector">اختر القطاع:</label>
                          <select id="sector" onchange="toggleOtherSectorInput()" required>
                              <option value="الوسط">الوسط</option>
                              <option value="الجنوب">الجنوب</option>
                              <option value="الشرق">الشرق</option>
                              <option value="الغرب">الغرب</option>
                              <option value="الشمال">الشمال</option>
                              <option value="other">أخرى</option>
                          </select>
                          <input type="text" id="other_sector" placeholder="اكتب القطاع" style="display:none; margin-top: 10px;">
                      </div>
                  </div>
        
                  <!-- رقم البلاغ ونوع البلاغ في نفس الصف -->
                  <div class="input-row">
                      <div class="input-small">
                          <label for="report_number">رقم البلاغ:</label>
                          <input type="text" id="report_number">
                      </div>
        
                      <div class="input-small">
                          <label for="report_type">نوع البلاغ:</label>
                          <select id="report_type" style="width: 150px;">
                              <option value="إيكو">إيكو</option>
                              <option value="دلتا">دلتا</option>
                              <option value="تشارلي">تشارلي</option>
                              <option value="برافو">برافو</option>
                              <option value="none">لا يوجد بلاغ</option>
                          </select>
                      </div>
                  </div>
        
                  <div class="input-row">
                      <label for="event_start">بداية الحدث (نظام 24 ساعة):</label>
                      <div class="input-row">
                          <input type="text" id="start_hour" placeholder="الساعة" style="width: 45px;">
                          <input type="text" id="start_minute" placeholder="الدقيقة" style="width: 45px;">
                      </div>
                  </div>
        
                  <div class="form-section">
                      <div class="input-row">
                          <div class="input-small">
                              <label for="unit_failure">تعطل فرقة إسعافية:</label>
                              <input type="text" id="unit_failure">
                          </div>
                          <div class="input-small">
                              <label for="failure_type">نوع العطل:</label>
                              <input type="text" id="failure_type">
                          </div>
                      </div>
                  </div>
        
                  <label for="damages">الأضرار:</label>
                  <textarea id="damages" rows="4"></textarea>
        
                  <label for="actions_taken">الإجراءات المتخذة:</label>
                  <textarea id="actions_taken" rows="4"></textarea>
        
                  <label for="service_impact">التأثير على الخدمة:</label>
                  <textarea id="service_impact" rows="4"></textarea>
        
                  <label for="event_status">هل الحدث ما زال قائم؟</label>
                  <select id="event_status" required>
                      <option value="نعم">نعم</option>
                      <option value="لا">لا</option>
                  </select>
        
                  <label for="">نهاية الحدث (نظام 24 ساعة):</label>
                  <div class="input-row">
                      <input type="number" id="end_hour" placeholder="الساعة" style="width: 45px;">
                      <input type="number" id="end_minute" placeholder="الدقيقة" style="width: 45px;">
                      <input type="checkbox" id="event_not_ended" onclick="toggleEndTimeFields()">
                      <label for="event_not_ended" style="font-weight: bold; color: red;">لم ينتهِ حتى الآن</label>
                  </div>
              </div>
        
              <div class="form-section">
                  <div class="input-row">
                      <div class="input-small">
                          <label for="senior_paramedic_name"> كبير المسعفين المناوب:</label>
                          <input type="text" id="senior_paramedic_name" required>
                      </div>
                  </div>
              </div>
        
              <button onclick="sendWhatsAppMessage('operational_failure')">إرسال النموذج بالواتساب</button>
            `;
        } else if (formName === 'eco_reports') {
            formHTML = `
                <div class="input-row">
                <div class="input-small">
                    <h2>نموذج بلاغات إيكو</h2>
                    <p>يرسل من قبل كبير المسعفين المناوب</p>
                        </div>
                        </div>
                <div class="form-section">
                    <label for="report_date">التاريخ:</label>
                    <input type="date" id="report_date" readonly>

                    <label for="report_time">توقيت التقرير (نظام 24 ساعة):</label>
                    <div class="input-row">
                        <input type="text" id="report_hour" placeholder="الساعة" style="width: 45px;" required>
                        <input type="text" id="report_minute" placeholder="الدقيقة" style="width: 45px;" required>
                    </div>
                    <label for="sector">اختر القطاع:</label>
                    <select id="sector" onchange="toggleOtherSectorInput()" required>
                        <option value="الوسط">الوسط</option>
                        <option value="الجنوب">الجنوب</option>
                        <option value="الشرق">الشرق</option>
                        <option value="الغرب">الغرب</option>
                        <option value="الشمال">الشمال</option>
                        <option value="other">أخرى</option>
                    </select>
                    <input type="text" id="other_sector" placeholder="اكتب القطاع" style="display:none; margin-top: 10px;">
		<div class="form-section">
                    <div class="input-row">
                  	  <div class="input-small">
                    <label for="report_number">رقم البلاغ:</label>
                    <input type="text" id="report_number" required>
                 </div>
                        <div class="input-small">
                    <label for="report_type">نوع البلاغ:</label>
                    <input type="text" id="report_type" value="إيكو">
                 </div>
                        <div class="input-small">
                    <label for="report_location">موقع البلاغ:</label>
                    <input type="text" id="report_location" required>
             		 </div>
              	   	</div>
              	   </div>
		          <div class="input-row">
                        <div class="input-small">
                    <label for="responding_units">الوحدات المستجيبة:</label>
                    <input type="text" id="responding_units" required>
              	   </div>
                        <div class="input-small">
                    <label for="response_time">زمن الاستجابة (دقائق):</label>
                    <input type="number" id="response_time" placeholder="أكتب الدقيقة بالرقم فقط" required>
                    </div>
              	   	</div>
			<div class="input-small">
			    <label for="notes">ملاحظات:</label>
			    <!-- إضافة زر التحديد مع النص -->
			    <div class="checkbox-container">
			        <input type="checkbox" id="no_notes_checkbox" onchange="
			            if(this.checked) {
			                document.getElementById('notes').value = 'لا يوجد';
			                document.getElementById('notes').disabled = true;
			            } else {
			                document.getElementById('notes').value = '';
			                document.getElementById('notes').disabled = false;
			            }
			        ">
			        <label for="no_notes_checkbox">لا يوجد ملاحظات</label>
			    </div>
			    <textarea id="notes" rows="4"></textarea>
			</div>
                </div>
	                <div class="form-section">
                    <div class="input-row">
                    <div class="input-small">
                    <label for="senior_paramedic_name"> كبير المسعفين المناوب:</label>
                    <input type="text" id="senior_paramedic_name" required>
                    </div>
                </div>
          </div>
                <button onclick="sendWhatsAppMessage('eco_reports')">إرسال النموذج بالواتساب</button>
            `;
        } else if (formName === 'major_event') {
            formHTML = `
               <h2>نموذج حدث جسيم</h2>
		<p>يرسل من قبل قائد المنطقة أو من قبل كبير المسعفين المناوب</p>

                <div class="form-section">
                    <label for="sector">القطاع:</label>
                    <select id="sector" onchange="toggleOtherSectorInput()" required>
                        <option value="الوسط">الوسط</option>
                        <option value="الجنوب">الجنوب</option>
                        <option value="الشرق">الشرق</option>
                        <option value="الغرب">الغرب</option>
                        <option value="الشمال">الشمال</option>
                        <option value="other">أخرى</option>
                    </select>
                    <input type="text" id="other_sector" placeholder="اكتب القطاع" style="display:none; margin-top: 10px;">

                    <label for="event_time">وقت وتاريخ الحدث:</label>
                    <input type="date" id="event_time" readonly>
                    <div class="input-row">
                        <input type="number" id="event_hour" placeholder="الساعة" style="width: 45px;" required>
                        <input type="number" id="event_minute" placeholder="الدقيقة" style="width: 45px;" required>
                    </div>

                    <label for="event_details">تفاصيل الحدث:</label>
                    <textarea id="event_details" rows="4" required></textarea>

                    <label for="assigned_units">إيجاز الوضع الراهن أثناء ورود البلاغ:</label>
                    <textarea id="assigned_units" rows="4" required></textarea>
                <div class="input-row">
                <div class="input-small">
                    <label for="teams_count">عدد الفرق لكامل القطاع (المشغولة والمتاحة):</label>
                    <input type="number" id="teams_count" required>
                    </div>
                </div>
                <div class="input-row">
                <div class="input-small">
                    <label for="deployment">الانتشار:</label>
                    <input type="text" id="deployment" required>
              	   	</div>
		       <div class="input-small">
                    <label for="team_types">أنواع الفرق المشاركة:</label>
                    <input type="text" id="team_types" required>
              	   	</div>
              	   	</div>
              	   	<div class="input-row">
                <div class="input-small">
                    <label for="saudi_red_crescent">الهلال الأحمر:</label>
                    <input type="text" id="saudi_red_crescent" required>
              	   </div>
                        <div class="input-small">
                    <label for="health_ministry">وزارة الصحة:</label>
                    <input type="text" id="health_ministry">
              	   </div>
                        <div class="input-small">
                    <label for="other_authorities">جهات أخرى:</label>
                    <input type="text" id="other_authorities">
                    </div>
                </div>
                    <div class="form-section">
            	   	<div class="input-row">
                <div class="input-small">
		      <label for="first_team_arrival">وقت وصول أول فرقة (نظام 24 ساعة):</label>
		<div class="input-row">
		    <input type="number" id="arrival_hour" placeholder="الساعة" style="width:80px;" required>
		    <input type="number" id="arrival_minute" placeholder="الدقيقة" style="width: 80px;" required>
		</div>
             	   </div>
                        <div class="input-small">
                    <label for="injury_triage">فرز الإصابات:</label>
                    <div class="input-row">
                        <input type="number" id="critical_injuries" placeholder="حرجة" style="width: 80px;" required>
                        <input type="number" id="moderate_injuries" placeholder="متوسطة" style="width:80px;" required>
                        <input type="number" id="minor_injuries" placeholder="طفيفة" style="width:80px;" required>
                        <input type="number" id="deaths" placeholder="وفاة" style="width:80px;" required>
                    </div>
                    </div>
                    </div>
                    <div class="input-row">
                <div class="input-small">
                    <label for="nationalities">الجنسيات:</label>
                    <div class="input-row">
                        <input type="number" id="saudi_nationality" placeholder="سعودي" style="width: 80px;">
                        <input type="number" id="non_saudi_nationality" placeholder="غير سعودي" style="width: 90px;">
                        <input type="number" id="unknown_nationality" placeholder="غير معروف" style="width: 90px;">
                    </div>
                    </div>
                    </div>                
                    <div class="input-small">
                    <label for="children_count">عدد الأطفال:</label>
                    <input type="number" id="children_count" style="width: 80px;">
             	   </div>
             	   </div>
            <div class="form-section">
                <div class="input-row">
                    <div class="input-small">
                        <label for="transferd_victimes">الحالات المنقولة:</label>
                        <input type="number" id="transferd_victimes" oninput="calculateTotalVictimes()" required>
                    </div>
                    <div class="input-small">
                        <label for="non_transferd_victimes">الحالات الغير منقولة:</label>
                        <input type="number" id="non_transferd_victimes" oninput="calculateTotalVictimes()" required>
                    </div>
                    <div class="input-small">
                        <label for="total_victimes">إجمالي الحالات:</label>
                        <input type="text" id="total_victimes" readonly disabled style="background-color: #e0e0e0;">
                    </div>
                    </div>

                    <div class="form-section">
			<label for="hospitals">المستشفيات:</label>
			<textarea id="hospitals" rows="4" required></textarea>
                </div>
<div class="form-section">
    <div class="input-row" style="display: flex; justify-content: space-between; align-items: center;">
        <!-- إبلاغ العمليات المركزية -->
        <div class="input-small">
            <label for="central_operations_notification">إبلاغ العمليات المركزية:</label>
            <div style="display: inline-flex; gap: 5px; align-items: center;">
                <input type="radio" name="central_operations" id="central_operations_yes" value="yes">
                <label for="central_operations_yes">نعم</label>

                <input type="radio" name="central_operations" id="central_operations_no" value="no">
                <label for="central_operations_no">لا</label>
            </div>
        </div>

        <!-- إبلاغ العمليات المشتركة -->
        <div class="input-small">
            <label for="joint_operations_notification">إبلاغ العمليات المشتركة:</label>
            <div style="display: inline-flex; gap: 5px; align-items: center;">
                <input type="radio" name="joint_operations" id="joint_operations_yes" value="yes">
                <label for="joint_operations_yes">نعم</label>

                <input type="radio" name="joint_operations" id="joint_operations_no" value="no">
                <label for="joint_operations_no">لا</label>
            </div>
        </div>

        <!-- انتهاء الحدث -->
        <div class="input-small">
            <label for="event_end">انتهاء الحدث (نظام 24 ساعة):</label>
            <div style="display: inline-flex; gap: 5px; align-items: center;">
                <input type="text" id="end_hour" placeholder="الساعة" style="width: 60px;" required>
                <input type="text" id="end_minute" placeholder="الدقيقة" style="width: 60px;" required>
            </div>
        </div>
    </div>
</div>

                    
                    <h2>المسؤولين</h2>
            <div class="form-section">

                    <label for="field_leader">قائد الحدث الميداني:</label>
                    <input type="text" id="field_leader" required>

                    <label for="operational_control">التحكم العملياتي:</label>
                    <input type="text" id="operational_control" required>

                    <label for="response_coordination">تنسيق الاستجابة:</label>
                    <input type="text" id="response_coordination" required>

                    <label for="area_leader">قائد المنطقة المناوب:</label>
                    <input type="text" id="area_leader" required>
        </div>
    </div>
</div>

                <button onclick="sendWhatsAppMessage('major_event')">إرسال النموذج بالواتساب</button>
            `;
        } else if (formName === 'support_request') {
            formHTML = `
               <h2>طلب تفعيل خطة المساندة والدعم المتبادل</h2>
		<p>يرسل من قبل كبير المسعفين المناوب قبل طلب التدعيم</p>

                <div class="form-section">
                    <label for="sector">القطاع:</label>
                    <select id="sector" onchange="toggleOtherSectorInput()" required>
                        <option value="الوسط">الوسط</option>
                        <option value="الجنوب">الجنوب</option>
                        <option value="الشرق">الشرق</option>
                        <option value="الغرب">الغرب</option>
                        <option value="الشمال">الشمال</option>
                        <option value="other">أخرى</option>
                    </select>
                    <input type="text" id="other_sector" placeholder="اكتب القطاع" style="display:none; margin-top: 10px;">

                    <label for="report_time">توقيت طلب الدعم (نظام 24 ساعة):</label>
                    <div class="input-row">
                        <input type="text" id="report_hour" placeholder="الساعة" style="width: 45px;" required>
                        <input type="text" id="report_minute" placeholder="الدقيقة" style="width: 45px;" required>
                    </div>

                    <label for="units_linked">عدد الوحدات المرتبطة ببلاغ:</label>
                    <input type="text" id="units_linked" required>

                    <label for="units_ready">عدد الوحدات الجاهزة:</label>
                    <input type="text" id="units_ready" required>

                    <label for="units_out_of_order">عدد الوحدات الخارجة عن الجاهزية:</label>
                    <input type="text" id="units_out_of_order" required>

                    <label for="working_teams_shift">عدد فرق القطاع العاملة أثناء المناوبة:</label>
                    <input type="text" id="working_teams_shift" required>

                    <label for="challenges">التحديات والاجراءات المتخذة:</label>
                    <textarea id="challenges" rows="4" placeholder="1- ...&#10;2- ..."></textarea>

		<label for="related_reports">في حال كان طلب الدعم مرتبط ببلاغات إسعافية:</label>
		<div id="reports-container-2">
		    <div class="input-pair">
		        <input type="number" placeholder="رقم البلاغ" class="report-number" style="width: 120px;">
		        <select class="report-type" style="width: 120px;">
		            <option value="إيكو">إيكو</option>
		            <option value="دلتا">دلتا</option>
		            <option value="تشارلي">تشارلي</option>
		            <option value="برافو">برافو</option>
		        </select>
<input type="number" placeholder="زمن بقاء البلاغ في قائمة الترحيل (بالدقائق)" class="waiting_time" style="width: 230px;">
</div>
		</div>
		
		<!-- الزر يستخدم الفنكشن مع تمرير معرّف الحاوية والنوع -->
		<button type="button" onclick="relatedreports('reports-container-2', 'dispatchTime')">إضافة بلاغ آخر</button>

                    <label for="senior_paramedic_name">اسم كبير المسعفين:</label>
                    <input type="text" id="senior_paramedic_name" required>
                </div>
                <button onclick="sendWhatsAppMessage('support_request')">إرسال النموذج بالواتساب</button>
            `;
} else if (formName === 'support_activation') {
    formHTML = `
        <h2>نموذج قبول تفعيل خطة المساندة والدعم المتبادل</h2>
        <p>يرسل من قبل قائد المنطقة</p>

        <div class="form-section">
            <label for="support_status">حالة الدعم:</label>
            <select id="support_status" onchange="toggleFieldsBasedOnSupportStatus()" required>
                <option value="مقبول">مقبول</option>
                <option value="مرفوض">مرفوض</option>
            </select>

            <label for="support_reasons">أسباب القبول أو الرفض:</label>
            <textarea id="support_reasons" rows="4" ></textarea>

            <div id="supportDetails">
                <label for="support_sector">القطاعات الداعمة:</label>
                <div id="support_sector" required>
                    <label><input type="checkbox" value="الوسط" class="support-sector-checkbox"> الوسط</label><br>
                    <label><input type="checkbox" value="الجنوب" class="support-sector-checkbox"> الجنوب</label><br>
                    <label><input type="checkbox" value="الشرق" class="support-sector-checkbox"> الشرق</label><br>
                    <label><input type="checkbox" value="الغرب" class="support-sector-checkbox"> الغرب</label><br>
                    <label><input type="checkbox" value="الشمال" class="support-sector-checkbox"> الشمال</label><br>
                </div>
                <label for="supported_sector">القطاع المدعوم:</label>
                <select id="supported_sector" onchange="toggleOtherSectorInput()">
                    <option value="الوسط">الوسط</option>
                    <option value="الجنوب">الجنوب</option>
                    <option value="الشرق">الشرق</option>
                    <option value="الغرب">الغرب</option>
                    <option value="الشمال">الشمال</option>
                </select>

                <label for="dispatch_time">توقيت تحريك الدعم (نظام 24 ساعة):</label>
                <div class="input-row">
                    <input type="text" id="dispatch_hour" placeholder="الساعة" style="width: 45px;">
                    <input type="text" id="dispatch_minute" placeholder="الدقيقة" style="width: 45px;">
                </div>

                <label for="arrival_time">توقيت وصول الدعم (نظام 24 ساعة):</label>
                <div class="input-row">
                    <input type="text" id="arrival_hour" placeholder="الساعة" style="width: 45px;">
                    <input type="text" id="arrival_minute" placeholder="الدقيقة" style="width: 45px;">
                </div>

                <label for="support_teams_count">عدد الفرق الداعمة:</label>
                <input type="text" id="support_teams_count">

                <label for="end_time">توقيت انتهاء الدعم (نظام 24 ساعة):</label>
                <div class="input-row">
                    <input type="text" id="end_hour" placeholder="الساعة" style="width: 45px;">
                    <input type="text" id="end_minute" placeholder="الدقيقة" style="width: 45px;">
                </div>
            </div>

            <label for="region_leader_name">اسم قائد المنطقة:</label>
            <input type="text" id="region_leader_name" required>
        </div>
        <button onclick="sendWhatsAppMessage('support_activation')">إرسال النموذج بالواتساب</button>
    `;
} else if (formName === 'regional_leader_form') {
    formHTML = `
        <h2>نموذج قائد المنطقة المناوب</h2>
        <p>يرسل من قبل قائد المنطقة كل بداية مناوبة</p>
        <div class="form-section">
            <label for="shift">المناوبة:</label>
            <select id="shift" onchange="toggleOtherSectorInput()" required>
                <option value="صباحي">صباحي</option>
                <option value="مسائي">مسائي</option>
            </select>
        </div>
        <div class="form-section">
            <label for="date">التاريخ:</label>
            <input type="date" id="date" readonly disabled style="background-color: #e0e0e0;">
        </div>
        <div class="form-section">
            <label for="region_leader">قائد المنطقة المناوب:</label>
            <input type="text" id="region_leader" placeholder="أدخل اسم قائد المنطقة" required>
            
            <label for="region_leader_phone">جوال:</label>
            <input type="text" id="region_leader_phone" placeholder="أدخل رقم الجوال" required>
            
            <label for="region_leader_channel">قناة:</label>
            <input type="text" id="region_leader_channel" placeholder="أدخل رقم القناة" required>
        </div>
        
        <div class="form-section">
            <h3>كبار المسعفين حسب القطاع</h3>
            
            <div class="input-row">
                <div class="input-small">
                    <label for="east_leader">كبير المسعفين قطاع الشرق:</label>
                    <input type="text" id="east_leader" placeholder="أدخل اسم كبير المسعفين" required>
                </div>
                <div class="input-small">
                    <label for="east_channel">قناة:</label>
                    <input type="text" id="east_channel" placeholder="أدخل رقم القناة" required>
                </div>
            </div>
            
            <div class="input-row">
                <div class="input-small">
                    <label for="west_leader">كبير المسعفين قطاع الغرب:</label>
                    <input type="text" id="west_leader" placeholder="أدخل اسم كبير المسعفين" required>
                </div>
                <div class="input-small">
                    <label for="west_channel">قناة:</label>
                    <input type="text" id="west_channel" placeholder="أدخل رقم القناة" required>
                </div>
            </div>
            
            <div class="input-row">
                <div class="input-small">
                    <label for="south_leader">كبير المسعفين قطاع جنوب:</label>
                    <input type="text" id="south_leader" placeholder="أدخل اسم كبير المسعفين" required>
                </div>
                <div class="input-small">
                    <label for="south_channel">قناة:</label>
                    <input type="text" id="south_channel" placeholder="أدخل رقم القناة" required>
                </div>
            </div>
            
            <div class="input-row">
                <div class="input-small">
                    <label for="central_leader">كبير المسعفين قطاع وسط:</label>
                    <input type="text" id="central_leader" placeholder="أدخل اسم كبير المسعفين" required>
                </div>
                <div class="input-small">
                    <label for="central_channel">قناة:</label>
                    <input type="text" id="central_channel" placeholder="أدخل رقم القناة" required>
                </div>
            </div>
            
            <div class="input-row">
                <div class="input-small">
                    <label for="north_leader">كبير المسعفين قطاع الشمال:</label>
                    <input type="text" id="north_leader" placeholder="أدخل اسم كبير المسعفين" required>
                </div>
                <div class="input-small">
                    <label for="north_channel">قناة:</label>
                    <input type="text" id="north_channel" placeholder="أدخل رقم القناة" required>
                </div>
            </div>
        </div>
        
        <button onclick="sendWhatsAppMessage('regional_leader_form')">إرسال النموذج بالواتساب</button>
            `;
        }

        formContainer.innerHTML = formHTML;

        updateDateTime(formName);
    }

    function updateDateTime(formName) {
        const today = new Date().toISOString().split('T')[0];

        const dateInputs = document.querySelectorAll("input[type='date']");
        dateInputs.forEach(input => {
            input.value = today;
        });
    }

function relatedreports(containerId, reportType) {
    const reportsContainer = document.getElementById(containerId);
    
    let newField = `
        <div class="input-pair">
            <input type="number" placeholder="رقم البلاغ" class="report-number" style="width: 120px;">
            <select class="report-type" style="width: 120px;">
                <option value="إيكو">إيكو</option>
                <option value="دلتا">دلتا</option>
                <option value="تشارلي">تشارلي</option>
                <option value="برافو">برافو</option>
            </select>
    `;
    
    // التحقق من نوع التقرير لتحديد الحقول الإضافية
    if (reportType === 'responseTime') {
        newField += `<input type="number" placeholder=" زمن الاستجابة (بالدقائق)" class="waiting_time" style="width: 120px;">`;
        newField += `<p>احسب زمن الاستجابة من الرد الى الوصول للموقع</p>`;
    } else if (reportType === 'dispatchTime') {
        newField += `<input type="number" placeholder="زمن بقاء البلاغ في قائمة الترحيل (بالدقائق)" class="waiting_time" style="width: 230px;">`;
    }

    newField += `</div>`; // إغلاق div

    reportsContainer.insertAdjacentHTML('beforeend', newField);
}


function saveForm(formName) {
    const xhr = new XMLHttpRequest();
    xhr.open('POST', `save_data.php?form=${formName}`, true);
    xhr.setRequestHeader('Content-Type', 'application/json');

    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            if (response.status === 'success') {
                copyForm(formName);
                alert("تم إرسال النموذج بالواتساب بنجاح!");
            } else {
                alert("حدث خطأ: " + response.message);
            }
        }
    };

    xhr.onerror = function () {
        alert("فشل الاتصال بالخادم. الرجاء المحاولة مرة أخرى.");
    };

    const data = getFormData(formName);

    // تحقق إذا كانت البيانات غير كاملة
    if (!data || Object.keys(data).length === 0) {
        alert("البيانات المدخلة غير صحيحة.");
        return;
    }

    xhr.send(JSON.stringify(data));
}

function getFormData(formName) {
    const data = {};

    if (formName === 'senior_paramedic') {
        data.sector = document.getElementById('sector')?.value || '';
        data.date = document.getElementById('date')?.value || '';
        data.time = document.getElementById('time')?.value || '';
        data.working_teams = document.getElementById('working_teams')?.value || '';
        data.total_teams = document.getElementById('total_teams')?.value || '';
        data.rapid_response_teams = document.getElementById('rapid_response_teams')?.value || '';
        data.operating_vehicles = document.getElementById('operating_vehicles')?.value || '';
        data.broken_vehicles = document.getElementById('broken_vehicles')?.value || '';
        data.reserve_vehicles = document.getElementById('reserve_vehicles')?.value || '';
        data.open_logistics_reports = document.getElementById('open_logistics_reports')?.value || '';
        data.coordination_teams = document.getElementById('coordination_teams')?.value || '';
        data.logistics_support_teams = document.getElementById('logistics_support_teams')?.value || '';
        data.hospitals_out_of_service = document.getElementById('hospitals_out_of_service')?.value || '';
        data.eco_reports = document.getElementById('eco_reports')?.value || '';
        data.delta_reports = document.getElementById('delta_reports')?.value || '';
        data.charlie_reports = document.getElementById('charlie_reports')?.value || '';
        data.bravo_reports = document.getElementById('bravo_reports')?.value || '';
        data.alpha_reports = document.getElementById('alpha_reports')?.value || '';
        data.omega_reports = document.getElementById('omega_reports')?.value || '';
        data.total_reports = document.getElementById('total_reports')?.value || '';
        data.government_transfers = document.getElementById('government_transfers')?.value || '';
        data.untransferred_cases = document.getElementById('untransferred_cases')?.value || '';
        data.waiting_time = document.getElementById('waiting_time')?.value || '';
        data.top_team = document.getElementById('top_team')?.value || '';
        data.average_reports = document.getElementById('average_reports')?.value || '';
        data.response_rate = document.getElementById('response_rate')?.value || '';
        data.average_response_time = document.getElementById('average_response_time')?.value || '';
        data.response_time_to_intervention = document.getElementById('response_time_to_intervention')?.value || '';
        data.absence_in_shift = document.getElementById('absence_in_shift')?.value || '';
        data.cad_program_notes = document.getElementById('cad_program_notes')?.value || '';
	data.senior_paramedic_name = document.getElementById('senior_paramedic_name')?.value || '';
	    } else if (formName === 'attendance') {
    data.date = document.getElementById('date')?.value || '';
    data.shift = document.getElementById('shift')?.value || '';
    data.center_sector_teams = document.getElementById('center_sector_teams')?.value || '';
    data.center_sector_vehicles_work = document.getElementById('center_sector_vehicles_work')?.value || '';
    data.center_sector_vehicles_broken = document.getElementById('center_sector_vehicles_broken')?.value || '';
    data.east_sector_teams = document.getElementById('east_sector_teams')?.value || '';
    data.east_sector_vehicles_work = document.getElementById('east_sector_vehicles_work')?.value || '';
    data.east_sector_vehicles_broken = document.getElementById('east_sector_vehicles_broken')?.value || '';
    data.west_sector_teams = document.getElementById('west_sector_teams')?.value || '';
    data.west_sector_vehicles_work = document.getElementById('west_sector_vehicles_work')?.value || '';
    data.west_sector_vehicles_broken = document.getElementById('west_sector_vehicles_broken')?.value || '';
    data.north_sector_teams = document.getElementById('north_sector_teams')?.value || '';
    data.north_sector_vehicles_work = document.getElementById('north_sector_vehicles_work')?.value || '';
    data.north_sector_vehicles_broken = document.getElementById('north_sector_vehicles_broken')?.value || '';
    data.south_sector_teams = document.getElementById('south_sector_teams')?.value || '';
    data.south_sector_vehicles_work = document.getElementById('south_sector_vehicles_work')?.value || '';
    data.south_sector_vehicles_broken = document.getElementById('south_sector_vehicles_broken')?.value || '';
    data.ramah_sector_teams = document.getElementById('ramah_sector_teams')?.value || '';
    data.ramah_sector_vehicles_work = document.getElementById('ramah_sector_vehicles_work')?.value || '';
    data.ramah_sector_vehicles_broken = document.getElementById('ramah_sector_vehicles_broken')?.value || '';
    data.al_aflag_sector_teams = document.getElementById('al_aflag_sector_teams')?.value || '';
    data.al_aflag_sector_vehicles_work = document.getElementById('al_aflag_sector_vehicles_work')?.value || '';
    data.al_aflag_sector_vehicles_broken = document.getElementById('al_aflag_sector_vehicles_broken')?.value || '';
    data.al_kharj_sector_teams = document.getElementById('al_kharj_sector_teams')?.value || '';
    data.al_kharj_sector_vehicles_work = document.getElementById('al_kharj_sector_vehicles_work')?.value || '';
    data.al_kharj_sector_vehicles_broken = document.getElementById('al_kharj_sector_vehicles_broken')?.value || '';
    data.al_dariya_sector_teams = document.getElementById('al_dariya_sector_teams')?.value || '';
    data.al_dariya_sector_vehicles_work = document.getElementById('al_dariya_sector_vehicles_work')?.value || '';
    data.al_dariya_sector_vehicles_broken = document.getElementById('al_dariya_sector_vehicles_broken')?.value || '';
    data.al_dawadmi_sector_teams = document.getElementById('al_dawadmi_sector_teams')?.value || '';
    data.al_dawadmi_sector_vehicles_work = document.getElementById('al_dawadmi_sector_vehicles_work')?.value || '';
    data.al_dawadmi_sector_vehicles_broken = document.getElementById('al_dawadmi_sector_vehicles_broken')?.value || '';
    data.al_zulfi_sector_teams = document.getElementById('al_zulfi_sector_teams')?.value || '';
    data.al_zulfi_sector_vehicles_work = document.getElementById('al_zulfi_sector_vehicles_work')?.value || '';
    data.al_zulfi_sector_vehicles_broken = document.getElementById('al_zulfi_sector_vehicles_broken')?.value || '';
    data.al_ghat_sector_teams = document.getElementById('al_ghat_sector_teams')?.value || '';
    data.al_ghat_sector_vehicles_work = document.getElementById('al_ghat_sector_vehicles_work')?.value || '';
    data.al_ghat_sector_vehicles_broken = document.getElementById('al_ghat_sector_vehicles_broken')?.value || '';
    data.al_quwayiyah_sector_teams = document.getElementById('al_quwayiyah_sector_teams')?.value || '';
    data.al_quwayiyah_sector_vehicles_work = document.getElementById('al_quwayiyah_sector_vehicles_work')?.value || '';
    data.al_quwayiyah_sector_vehicles_broken = document.getElementById('al_quwayiyah_sector_vehicles_broken')?.value || '';
    data.al_majmaah_sector_teams = document.getElementById('al_majmaah_sector_teams')?.value || '';
    data.al_majmaah_sector_vehicles_work = document.getElementById('al_majmaah_sector_vehicles_work')?.value || '';
    data.al_majmaah_sector_vehicles_broken = document.getElementById('al_majmaah_sector_vehicles_broken')?.value || '';
    data.al_muzahimiyah_sector_teams = document.getElementById('al_muzahimiyah_sector_teams')?.value || '';
    data.al_muzahimiyah_sector_vehicles_work = document.getElementById('al_muzahimiyah_sector_vehicles_work')?.value || '';
    data.al_muzahimiyah_sector_vehicles_broken = document.getElementById('al_muzahimiyah_sector_vehicles_broken')?.value || '';
    data.hawtat_banee_tamim_sector_teams = document.getElementById('hawtat_banee_tamim_sector_teams')?.value || '';
    data.hawtat_banee_tamim_sector_vehicles_work = document.getElementById('hawtat_banee_tamim_sector_vehicles_work')?.value || '';
    data.hawtat_banee_tamim_sector_vehicles_broken = document.getElementById('hawtat_banee_tamim_sector_vehicles_broken')?.value || '';
    data.shaqra_sector_teams = document.getElementById('shaqra_sector_teams')?.value || '';
    data.shaqra_sector_vehicles_work = document.getElementById('shaqra_sector_vehicles_work')?.value || '';
    data.shaqra_sector_vehicles_broken = document.getElementById('shaqra_sector_vehicles_broken')?.value || '';
    data.afif_sector_teams = document.getElementById('afif_sector_teams')?.value || '';
    data.afif_sector_vehicles_work = document.getElementById('afif_sector_vehicles_work')?.value || '';
    data.afif_sector_vehicles_broken = document.getElementById('afif_sector_vehicles_broken')?.value || '';
    data.wadi_al_dawasir_sector_teams = document.getElementById('wadi_al_dawasir_sector_teams')?.value || '';
    data.wadi_al_dawasir_sector_vehicles_work = document.getElementById('wadi_al_dawasir_sector_vehicles_work')?.value || '';
    data.wadi_al_dawasir_sector_vehicles_broken = document.getElementById('wadi_al_dawasir_sector_vehicles_broken')?.value || '';
    data.internal_vehicles_total = document.getElementById('internal_vehicles_total')?.value || '';
    data.external_vehicles_total = document.getElementById('external_vehicles_total')?.value || '';
    data.total_working_vehicles_riyadh = document.getElementById('total_working_vehicles_riyadh')?.value || '';
    data.update_attendance_version = document.getElementById('updateattendance')?.value || '';
    data.senior_paramedic_attendance = document.getElementById('senior_paramedic_attendance')?.value || '';
    } else if (formName === 'operational_failure') {
        // جمع بيانات نموذج فشل تشغيلي
        data.sector = document.getElementById('sector')?.value || '';
        data.other_sector = document.getElementById('other_sector')?.value || '';
	data.report_number = document.getElementById('report_number')?.value || '';
        data.start_hour = document.getElementById('start_hour')?.value || '';
        data.start_minute = document.getElementById('start_minute')?.value || '';
        data.unit_failure = document.getElementById('unit_failure')?.value || '';
        data.failure_type = document.getElementById('failure_type')?.value || '';
        data.report_type = document.getElementById('report_number')?.value || '';
        data.report_type = document.getElementById('report_type')?.value || '';
        data.damages = document.getElementById('damages')?.value || '';
        data.actions_taken = document.getElementById('actions_taken')?.value || '';
        data.service_impact = document.getElementById('service_impact')?.value || '';
        data.event_status = document.getElementById('event_status')?.value || '';
        if (document.getElementById('event_not_ended').checked) {
            data.end_hour = 'لم ينتهِ حتى الآن';
            data.end_minute = '';
        } else {
            data.end_hour = document.getElementById('end_hour').value || '';
            data.end_minute = document.getElementById('end_minute').value || '';
        }
        data.senior_paramedic_name = document.getElementById('senior_paramedic_name')?.value || '';
    } else if (formName === 'eco_reports') {
        // جمع بيانات نموذج بلاغات إيكو
        data.report_date = document.getElementById('report_date')?.value || '';
        data.report_hour = document.getElementById('report_hour')?.value || '';
        data.report_minute = document.getElementById('report_minute')?.value || '';
        data.report_number = document.getElementById('report_number')?.value || '';
        data.report_type = document.getElementById('report_type')?.value || '';
        data.report_location = document.getElementById('report_location')?.value || '';
        data.sector = document.getElementById('sector')?.value || '';
        data.other_sector = document.getElementById('other_sector')?.value || '';
        data.responding_units = document.getElementById('responding_units')?.value || '';
        data.response_time = document.getElementById('response_time')?.value || '';
        data.notes = document.getElementById('notes')?.value || '';
        data.senior_paramedic_name = document.getElementById('senior_paramedic_name')?.value || '';
    } else if (formName === 'major_event') {
        // جمع بيانات نموذج حدث جسيم
        data.sector = document.getElementById('sector')?.value || '';
        data.other_sector = document.getElementById('other_sector')?.value || '';
        data.event_time = document.getElementById('event_time')?.value || '';
        data.event_hour = document.getElementById('event_hour')?.value || '';
        data.event_minute = document.getElementById('event_minute')?.value || '';
        data.event_details = document.getElementById('event_details')?.value || '';
        data.assigned_units = document.getElementById('assigned_units')?.value || '';
        data.teams_count = document.getElementById('teams_count')?.value || '';
        data.deployment = document.getElementById('deployment')?.value || '';
        data.team_types = document.getElementById('team_types')?.value || '';
        data.saudi_red_crescent = document.getElementById('saudi_red_crescent')?.value || '';
        data.health_ministry = document.getElementById('health_ministry')?.value || '';
        data.other_authorities = document.getElementById('other_authorities')?.value || '';
        data.critical_injuries = document.getElementById('critical_injuries')?.value || '';
        data.moderate_injuries = document.getElementById('moderate_injuries')?.value || '';
        data.minor_injuries = document.getElementById('minor_injuries')?.value || '';
        data.deaths = document.getElementById('deaths')?.value || '';
        data.saudi_nationality = document.getElementById('saudi_nationality')?.value || '';
        data.non_saudi_nationality = document.getElementById('non_saudi_nationality')?.value || '';
        data.unknown_nationality = document.getElementById('unknown_nationality')?.value || '';
        data.children_count = document.getElementById('children_count')?.value || '';
        data.transferred_victimes = document.getElementById('transferd_victimes')?.value || '';
        data.non_transferred_victimes = document.getElementById('non_transferd_victimes')?.value || '';
        data.total_victimes = document.getElementById('total_victimes')?.value || '';
        data.hospitals = document.getElementById('hospitals')?.value || '';
        data.arrival_hour = document.getElementById('arrival_hour')?.value || '';
        data.arrival_minute = document.getElementById('arrival_minute')?.value || '';
        const centralOperationsSelected = document.querySelector('input[name="central_operations"]:checked');
        data.central_operations = centralOperationsSelected ? centralOperationsSelected.value : 'غير محدد';
        const jointOperationsSelected = document.querySelector('input[name="joint_operations"]:checked');
        data.joint_operations = jointOperationsSelected ? jointOperationsSelected.value : 'غير محدد';
        data.end_hour = document.getElementById('end_hour')?.value || '';
        data.end_minute = document.getElementById('end_minute')?.value || '';
        data.field_leader = document.getElementById('field_leader')?.value || '';
        data.operational_control = document.getElementById('operational_control')?.value || '';
        data.response_coordination = document.getElementById('response_coordination')?.value || '';
        data.area_leader = document.getElementById('area_leader')?.value || '';
		    } else if (formName === 'support_request') {
        // جمع بيانات نموذج طلب تفعيل خطة المساندة والدعم المتبادل
        data.sector = document.getElementById('sector')?.value || '';
        data.other_sector = document.getElementById('other_sector')?.value || '';
        data.report_hour = document.getElementById('report_hour')?.value || '';
        data.report_minute = document.getElementById('report_minute')?.value || '';
        data.units_linked = document.getElementById('units_linked')?.value || '';
        data.units_ready = document.getElementById('units_ready')?.value || '';
        data.units_out_of_order = document.getElementById('units_out_of_order')?.value || '';
        data.working_teams_shift = document.getElementById('working_teams_shift')?.value || '';
        data.waiting_time = document.getElementById('waiting_time')?.value || '';
        // جمع بيانات البلاغات الإسعافية المرتبطة
        const reportNumbers = document.querySelectorAll('.report-number');
        const reportTypes = document.querySelectorAll('.report-type');
        const waiting_time = document.querySelectorAll('.waiting_time');
        data.reports = [];
        reportNumbers.forEach((number, index) => {
            if (number.value && reportTypes[index].value && number.value) {
                data.reports.push({
                    number: number.value,
                    type: reportTypes[index].value
                });
            }
        });
        data.challenges = document.getElementById('challenges')?.value || '';
	        } else if (formName === 'senior_paramedic_outside') {
        // جمع بيانات نموذج كبار المسعفين الخارجي 
        data.sector = document.getElementById('sector')?.value || '';
        data.other_sector = document.getElementById('other_sector')?.value || '';
        data.date = document.getElementById('date')?.value || '';
        data.time = document.getElementById('time')?.value || '';
        data.working_teams = document.getElementById('working_teams')?.value || '';
        data.total_teams = document.getElementById('total_teams')?.value || '';
        data.operating_vehicles = document.getElementById('operating_vehicles')?.value || '';
        data.broken_vehicles = document.getElementById('broken_vehicles')?.value || '';
        data.reserve_vehicles = document.getElementById('reserve_vehicles')?.value || '';
        data.open_logistics_reports = document.getElementById('open_logistics_reports')?.value || '';
        data.coordination_teams = document.getElementById('coordination_teams')?.value || '';
        data.logistics_support_teams = document.getElementById('logistics_support_teams')?.value || '';
        data.hospitals_out_of_service = document.getElementById('hospitals_out_of_service')?.value || '';
        data.total_reports = document.getElementById('total_reports')?.value || '';
        data.waiting_time = document.getElementById('waiting_time')?.value || '';
        data.response_time_to_intervention = document.getElementById('response_time_to_intervention')?.value || '';
        data.absence_in_shift = document.getElementById('absence_in_shift')?.value || '';
        data.units_notes = document.getElementById('units_notes')?.value || '';
        // جمع بيانات البلاغات الإسعافية المرتبطة
        const reportNumbers = document.querySelectorAll('.report-number');
        const reportTypes = document.querySelectorAll('.report-type');
        const waiting_time = document.querySelectorAll('.waiting_time');
        data.reports = [];
        reportNumbers.forEach((number, index) => {
            if (number.value && reportTypes[index].value && number.value) {
                data.reports.push({
                    number: number.value,
                    type: reportTypes[index].value
                });
            }
        });

        data.outsider_notes = document.getElementById('outsider_notes')?.value || '';
        data.senior_paramedic_name = document.getElementById('senior_paramedic_name')?.value || '';
	} else if (formName === 'support_activation') {
	    data.support_status = document.getElementById('support_status').value;
	    data.support_reasons = document.getElementById('support_reasons').value;
	    data.region_leader_name = document.getElementById('region_leader_name').value;
	
	    if (data.support_status === 'مقبول') {
	        // جلب القيم المختارة من مربعات الاختيار
	        const selectedSectors = Array.from(document.querySelectorAll('.support-sector-checkbox:checked')).map(checkbox => checkbox.value);
	        data.support_sector = selectedSectors.join(', ') || '';
	        data.supported_sector = document.getElementById('supported_sector').value || '';
	        data.other_supported_sector = document.getElementById('other_supported_sector').value || '';
	        data.dispatch_hour = document.getElementById('dispatch_hour').value || '';
	        data.dispatch_minute = document.getElementById('dispatch_minute').value || '';
	        data.arrival_hour = document.getElementById('arrival_hour').value || '';
	        data.arrival_minute = document.getElementById('arrival_minute').value || '';
	        data.support_teams_count = document.getElementById('support_teams_count').value || '';
	        data.end_hour = document.getElementById('end_hour').value || '';
	        data.end_minute = document.getElementById('end_minute').value || '';
	        data.senior_paramedic_rapid_response_reports = document.getElementById('senior_paramedic_rapid_response_reports')?.value || '';
	} else if (formName === 'rapid_response_reports') {
		    // جمع بيانات نموذج "بلاغات التدخل السريع"
		    data.sector_west = document.getElementById('sector_west')?.value || '';
		    data.sector_east = document.getElementById('sector_east')?.value || '';
		    data.sector_central = document.getElementById('sector_central')?.value || '';
		    data.sector_north = document.getElementById('sector_north')?.value || '';
		    data.sector_south = document.getElementById('sector_south')?.value || '';
		    data.total_rapid_response_reports = document.getElementById('total_rapid_response_reports')?.value || '';
     } else if (formName === 'regional_leader_form') {
            data.shift = document.getElementById('shift')?.value || '';
            data.date = document.getElementById('date')?.value || '';
            data.region_leader = document.getElementById('region_leader')?.value || '';
            data.region_leader_phone = document.getElementById('region_leader_phone')?.value || '';
            data.region_leader_channel = document.getElementById('region_leader_channel')?.value || '';
            
            data.east_leader = document.getElementById('east_leader')?.value || '';
            data.east_channel = document.getElementById('east_channel')?.value || '';
            
            data.west_leader = document.getElementById('west_leader')?.value || '';
            data.west_channel = document.getElementById('west_channel')?.value || '';
            
            data.south_leader = document.getElementById('south_leader')?.value || '';
            data.south_channel = document.getElementById('south_channel')?.value || '';
            
            data.central_leader = document.getElementById('central_leader')?.value || '';
            data.central_channel = document.getElementById('central_channel')?.value || '';
            
            data.north_leader = document.getElementById('north_leader')?.value || '';
            data.north_channel = document.getElementById('north_channel')?.value || '';
    }
    }

    return data;
}

	    //اوامر نسخ النماذج من هنا تبداء
function sendWhatsAppMessage(formName) {
    let formText = '';

    // التحقق من الحقول المطلوبة
    let requiredFields = document.querySelectorAll('input[required], textarea[required], select[required]');
    let allFieldsFilled = true;

    requiredFields.forEach((field) => {
        let label = document.querySelector(`label[for="${field.id}"]`);

        // إزالة التنسيق السابق إذا كان الحقل قد تمت تعبئته
        field.style.border = '';
        if (label && label.querySelector('.required-mark')) {
            label.removeChild(label.querySelector('.required-mark'));
        }

        // إذا كان الحقل فارغاً
        if (field.value === "") {
            field.style.border = '2px solid red'; // تلوين الحواف باللون الأحمر

            // إضافة نجمة حمراء بجانب الحقل المطلوب
            if (label) {
                let star = document.createElement('span');
                star.classList.add('required-mark');
                star.style.color = 'red';
                star.textContent = ' *';
                label.appendChild(star); // إضافة النجمة الحمراء بجانب الحقل
            }

            // التحقق من أن الحقول لم تملأ بعد
            allFieldsFilled = false;
        }
    });

    if (!allFieldsFilled) {
        // إيقاف العملية إذا كانت هناك حقول فارغة
        alert("يرجى تعبئة جميع الحقول المطلوبة.");
        return;
    }

    if (formName === 'senior_paramedic') {
        formText += `\n*=== نموذج كبار مسعفين قطاعات الرياض الداخلية ===*\n\n`;
    	formText += `القطاع: ${document.getElementById('sector').value}\n`;
    	formText += `التاريخ: ${document.getElementById('date').value}\n`;
        formText += `التوقيت الحالي: ${document.getElementById('time').value}\n`;
        formText += `عدد الفرق العاملة: ${document.getElementById('working_teams').value} من أصل: ${document.getElementById('total_teams').value}\n`;
        formText += `عدد فرق التدخل السريع: ${document.getElementById('rapid_response_teams').value}\n`;
        formText += `عدد المركبات العاملة: ${document.getElementById('operating_vehicles').value}\n`;
        formText += `عدد المركبات المتعطلة: ${document.getElementById('broken_vehicles').value}\n`;
        formText += `عدد المركبات الاحتياط: ${document.getElementById('reserve_vehicles').value}\n`;
        formText += `بلاغات الدعم اللوجستي المفتوحة: ${document.getElementById('open_logistics_reports').value}\n`;
        formText += `عدد العاملين في التنسيق والتحكم: ${document.getElementById('coordination_teams').value}\n`;
        formText += `عدد العاملين في الدعم اللوجستي: ${document.getElementById('logistics_support_teams').value}\n`;
        formText += `قائمة المستشفيات خارج الخدمة: ${document.getElementById('hospitals_out_of_service').value}\n`;
        formText += `\n*=== الطلب ===*\n`;
        formText += `عدد بلاغات إنعاش إيكو: ${document.getElementById('eco_reports').value}\n`;
        formText += `عدد بلاغات دلتا: ${document.getElementById('delta_reports').value}\n`;
        formText += `عدد بلاغات تشارلي: ${document.getElementById('charlie_reports').value}\n`;
        formText += `عدد بلاغات برافو: ${document.getElementById('bravo_reports').value}\n`;
        formText += `عدد بلاغات ألفا: ${document.getElementById('alpha_reports').value}\n`;
        formText += `عدد بلاغات أوميغا: ${document.getElementById('omega_reports').value}\n`;
        formText += `\n*=== البلاغات ===*\n`;
        formText += `إجمالي بلاغات القطاع: ${document.getElementById('total_reports').value}\n`;
        formText += `عدد الحالات المنقولة  : ${document.getElementById('government_transfers').value}\n`;
        formText += `عدد الحالات الغير منقولة: ${document.getElementById('untransferred_cases').value}\n`;
        formText += `\n*=== المخرجات ===*\n`;
        formText += `متوسط زمن الانتظار في قائمة الترحيل(بالدقائق): ${document.getElementById('waiting_time').value}\n`;
        formText += `اعلى فرقة اسعافيه في عدد البلاغات: ${document.getElementById('top_team').value}\n`;
        formText += `متوسط عدد البلاغات للفرق الاسعافية: ${document.getElementById('average_reports').value}\n`;
        formText += `نسبة زمن الاستجابة خلال 8 دقائق للبلاغات الاسعافية بإستثناء حالات الفا: ${document.getElementById('response_rate').value}\n`;
        formText += `متوسط زمن الاستجابة لبلاغات الحوادث المرورية: ${document.getElementById('average_response_time').value}\n`;
        formText += `زمن الاستجابة من الرد حتى الوصول (بالدقائق): ${document.getElementById('response_time_to_intervention').value}\n\n`;
        formText += `\n*=== ملاحظات النوبة ===*\n`;
        formText += `عدد الغياب في المناوبة: ${document.getElementById('absence_in_shift').value}\n`;
	    //اضافة زر لايوجد
	let cadProgramNotes = document.getElementById('no_cad_notes_checkbox').checked
	    ? "لا يوجد"
	    : document.getElementById('cad_program_notes').value;
	
	formText += `ملاحظات عامه: ${cadProgramNotes}\n`;
	formText += `*اسم كبير المسعفين:*  ${document.getElementById('senior_paramedic_name').value}\n`;
        } else if (formName === 'operational_failure') {
            formText += `*=== نموذج فشل تشغيلي ===*\n\n`;
        
            // التحقق من القطاع
            if (document.getElementById('sector').value !== 'other') {
                formText += `القطاع: ${document.getElementById('sector').value}\n`;
            } else {
                formText += `القطاع: ${document.getElementById('other_sector').value}\n`;
            }
        
            // التحقق من نوع البلاغ
            let reportType = document.getElementById('report_type').value;
        
            if (reportType !== 'none') {
                // إذا لم يكن نوع البلاغ "لا يوجد بلاغ"، يتم إضافة رقم البلاغ
                formText += `رقم البلاغ: ${document.getElementById('report_number').value}\n`;
            }
        
            // عرض نوع البلاغ مع استبدال "none" بعبارة "لا يوجد بلاغ"
            if (reportType === 'none') {
                formText += `نوع البلاغ: لا يوجد بلاغ\n`;
            } else {
                formText += `نوع البلاغ: ${reportType}\n`;
            }
        
            formText += `بداية الحدث: ${document.getElementById('start_hour').value}:${document.getElementById('start_minute').value}\n`;
            formText += `تعطل فرقة إسعافية: ${document.getElementById('unit_failure').value}\n`;
            formText += `نوع العطل: ${document.getElementById('failure_type').value}\n`;
            formText += `الأضرار: ${document.getElementById('damages').value}\n`;
            formText += `الإجراءات المتخذة: ${document.getElementById('actions_taken').value}\n`;
            formText += `التأثير على الخدمة: ${document.getElementById('service_impact').value}\n`;
            formText += `هل الحدث ما زال قائم؟: ${document.getElementById('event_status').value}\n`;
        
            // التحقق من نهاية الحدث
            if (document.getElementById('event_not_ended').checked) {
                formText += `نهاية الحدث: لم ينتهِ حتى الآن\n`;
            } else {
                formText += `نهاية الحدث: ${document.getElementById('end_hour').value}:${document.getElementById('end_minute').value}\n`;
            }
        
            formText += `*اسم كبير المسعفين:*  ${document.getElementById('senior_paramedic_name').value}\n`;
    } else if (formName === 'eco_reports') {
        formText += `*=== نموذج بلاغات إيكو ===*\n\n`;
        if (document.getElementById('sector').value !== 'other') {
    formText += `القطاع:قطاع ${document.getElementById('sector').value}\n`;
} else {
    formText += `القطاع: ${document.getElementById('other_sector').value}\n`;
}
        formText += `التاريخ: ${document.getElementById('report_date').value}\n`;
        formText += `توقيت التقرير: ${document.getElementById('report_hour').value}:${document.getElementById('report_minute').value}\n`;
        formText += `رقم البلاغ: ${document.getElementById('report_number').value}\n`;
        formText += `نوع البلاغ: ${document.getElementById('report_type').value}\n`;
        formText += `موقع البلاغ: ${document.getElementById('report_location').value}\n`;
        formText += `الوحدات المستجيبة: ${document.getElementById('responding_units').value}\n`;
        formText += `زمن الاستجابة (دقائق): ${document.getElementById('response_time').value}\n`;
        formText += `ملاحظات: ${document.getElementById('no_notes_checkbox').checked ? 'لا يوجد' : document.getElementById('notes').value}\n`;
        formText += `*اسم كبير المسعفين:* ${document.getElementById('senior_paramedic_name').value}\n`;
    } else if (formName === 'major_event') {
        formText += `*=== نموذج حدث جسيم ===*\n\n`;
        if (document.getElementById('sector').value !== 'other') {
    formText += `القطاع: ${document.getElementById('sector').value}\n`;
} else {
    formText += `القطاع: ${document.getElementById('other_sector').value}\n`;
}
        formText += `وقت وتاريخ الحدث: ${document.getElementById('event_time').value} ${document.getElementById('event_hour').value}:${document.getElementById('event_minute').value}\n`;
        formText += `تفاصيل الحدث: ${document.getElementById('event_details').value}\n`;
        formText += `إيجاز الوضع الراهن أثناء ورود البلاغ: ${document.getElementById('assigned_units').value}\n`;
        formText += `عدد الفرق لكامل القطاع (المشغولة والمتاحة): ${document.getElementById('teams_count').value}\n`;
        formText += `الانتشار: ${document.getElementById('deployment').value}\n`;
        formText += `أنواع الفرق المشاركة: ${document.getElementById('team_types').value}\n`;
        formText += `الهلال الأحمر: ${document.getElementById('saudi_red_crescent').value}\n`;
        formText += `وزارة الصحة: ${document.getElementById('health_ministry').value}\n`;
        formText += `جهات أخرى: ${document.getElementById('other_authorities').value}\n`;
        formText += `وقت وصول أول فرقة: ${document.getElementById('arrival_hour').value}:${document.getElementById('arrival_minute').value}\n`;
        formText += `\n*=== فرز الإصابات ===*\n`;
        formText += `وفيات: ${document.getElementById('deaths').value}\n`;
        formText += `حرجة: ${document.getElementById('critical_injuries').value}\n`;
        formText += `متوسطة: ${document.getElementById('moderate_injuries').value}\n`;
        formText += `طفيفة: ${document.getElementById('minor_injuries').value}\n`;
        formText += `\n*=== الجنسيات ===*\n`;
        formText += `سعودي: ${document.getElementById('saudi_nationality').value}\n`;
        formText += `غير سعودي: ${document.getElementById('non_saudi_nationality').value}\n`;
        formText += `غير معروف: ${document.getElementById('unknown_nationality').value}\n`;
        formText += `عدد الأطفال: ${document.getElementById('children_count').value}\n`;
        formText += `\n*=== إحصائية الحالات ===*\n`;
        formText += `الحالات المنقولة: ${document.getElementById('transferd_victimes').value}\n`;
        formText += `الحالات الغير منقولة: ${document.getElementById('non_transferd_victimes').value}\n`;
        formText += `إجمالي الحالات: ${document.getElementById('total_victimes').value}\n`;
        formText += `المستشفيات: ${document.getElementById('hospitals').value}\n`;
        formText += `\n*=== التبليغ ===*\n`;
        const centralOperationsSelected = document.querySelector('input[name="central_operations"]:checked');
        formText += `إبلاغ العمليات المركزية: ${centralOperationsSelected ? (centralOperationsSelected.value === 'yes' ? 'نعم' : 'لا') : 'غير محدد'}\n`;
        const jointOperationsNotification = document.querySelector('input[name="joint_operations"]:checked');
        formText += `إبلاغ العمليات المشتركة: ${jointOperationsNotification ? (jointOperationsNotification.value === 'yes' ? 'نعم' : 'لا') : 'غير محدد'}\n`;
        formText += `\n*=== النهاية ===*\n`;
        formText += `انتهاء الحدث: ${document.getElementById('end_hour').value}:${document.getElementById('end_minute').value}\n`;
        formText += `\n*=== المسؤولين ===*\n`;
        formText += `قائد الحدث الميداني: ${document.getElementById('field_leader').value}\n`;
        formText += `التحكم العملياتي: ${document.getElementById('operational_control').value}\n`;
        formText += `تنسيق الاستجابة: ${document.getElementById('response_coordination').value}\n`;
        formText += `قائد المنطقة المناوب: ${document.getElementById('area_leader').value}\n`;
            } else if (formName === 'support_request') {
        formText += `*=== طلب تفعيل خطة المساندة والدعم المتبادل ===*\n\n`;
        if (document.getElementById('sector').value !== 'other') {
        formText += `القطاع: ${document.getElementById('sector').value}\n`;
        } else {
        formText += `القطاع: ${document.getElementById('other_sector').value}\n`;
        }
        formText += `توقيت طلب الدعم: ${document.getElementById('report_hour').value}:${document.getElementById('report_minute').value}\n`;
        formText += `عدد الوحدات المرتبطة ببلاغ: ${document.getElementById('units_linked').value}\n`;
        formText += `عدد الوحدات الجاهزة: ${document.getElementById('units_ready').value}\n`;
        formText += `عدد الوحدات الخارجة عن الجاهزية: ${document.getElementById('units_out_of_order').value}\n`;
        formText += `عدد فرق القطاع العاملة أثناء المناوبة: ${document.getElementById('working_teams_shift').value}\n`;
        formText += `\n*=== التحديات والإجراءات المتخذة ===*\n${document.getElementById('challenges').value}\n\n`;
        
        // جمع البيانات المتعلقة بالبلاغات الإسعافية المرتبطة
        const reportNumbers = document.querySelectorAll('.report-number');
        const reportTypes = document.querySelectorAll('.report-type');
        const waitingTimes = document.querySelectorAll('.waiting_time');
        
        formText += `\n*=== البلاغات الإسعافية المرتبطة ===*\n`;
        reportNumbers.forEach((number, index) => {
            formText += `رقم البلاغ: ${number.value}, نوع البلاغ: ${reportTypes[index].value}, زمن بقاء البلاغ في قائمة الترحيل (بالدقائق): ${waitingTimes[index].value}\n`;
        });

        formText += `\n*اسم كبير المسعفين:* ${document.getElementById('senior_paramedic_name').value}\n`;
	} else if (formName === 'support_activation') {
        formText += `*=== نموذج قبول تفعيل خطة المساندة والدعم المتبادل ===*\n\n`;
	    formText += `حالة الدعم: ${document.getElementById('support_status').value}\n`;
	    formText += `أسباب القبول أو الرفض: ${document.getElementById('support_reasons').value}\n`;
	    formText += `اسم قائد المنطقة: ${document.getElementById('region_leader_name').value}\n`;
	    if (document.getElementById('support_status').value === 'مقبول') {
	        // إرسال القيم المختارة في الرسالة
	        formText += `القطاعات الداعمة: ${Array.from(document.querySelectorAll('.support-sector-checkbox:checked')).map(checkbox => checkbox.value).join(', ')}\n`;
	        formText += `القطاع المدعوم: ${document.getElementById('supported_sector').value}\n`;
	        formText += `توقيت تحريك الدعم: ${document.getElementById('dispatch_hour').value}:${document.getElementById('dispatch_minute').value}\n`;
	        formText += `توقيت وصول الدعم: ${document.getElementById('arrival_hour').value}:${document.getElementById('arrival_minute').value}\n`;
	        formText += `عدد الفرق الداعمة: ${document.getElementById('support_teams_count').value}\n`;
	        formText += `توقيت انتهاء الدعم: ${document.getElementById('end_hour').value}:${document.getElementById('end_minute').value}\n`;
		      }
   } else if (formName === 'senior_paramedic_outside') {
        formText += `*=== نموذج كبار مسعفين قطاعات الرياض الخارجية ===*\n\n`;
        if (document.getElementById('sector').value !== 'other') {
            formText += `القطاع: قطاع محافظة ${document.getElementById('sector').value}\n`;
        } else {
            formText += `القطاع: ${document.getElementById('other_sector').value}\n`;
        }
        formText += `التاريخ: ${document.getElementById('date').value}\n`;
        formText += `التوقيت الحالي: ${document.getElementById('time').value}\n`;
        formText += `عدد الفرق العاملة: ${document.getElementById('working_teams').value} من أصل: ${document.getElementById('total_teams').value}\n`;
        formText += `عدد المركبات العاملة: ${document.getElementById('operating_vehicles').value}\n`;
        formText += `عدد المركبات المتعطلة: ${document.getElementById('broken_vehicles').value}\n`;
        formText += `عدد المركبات الاحتياط: ${document.getElementById('reserve_vehicles').value}\n`;
        formText += `بلاغات الدعم اللوجستي المفتوحة: ${document.getElementById('open_logistics_reports').value}\n`;
        formText += `عدد العاملين في التنسيق والتحكم: ${document.getElementById('coordination_teams').value}\n`;
        formText += `عدد العاملين في الدعم اللوجستي: ${document.getElementById('logistics_support_teams').value}\n`;
        formText += `قائمة المستشفيات خارج الخدمة: ${document.getElementById('hospitals_out_of_service').value}\n`;
        formText += `*=== البلاغات ===*\n\n`;
        formText += `إجمالي بلاغات القطاع: ${document.getElementById('total_reports').value}\n`;
        
// جمع البيانات المتعلقة بالبلاغات الإسعافية المرتبطة
const noReports = document.getElementById('no_reports').checked;
formText += `\n*=== البلاغات الإسعافية المرتبطة ===*\n`;

if (noReports) {
    formText += `لا يوجد بلاغات\n`;
} else {
    const reportNumbers = document.querySelectorAll('.report-number');
    const reportTypes = document.querySelectorAll('.report-type');
    const waitingTimes = document.querySelectorAll('.waiting_time');
    
    reportNumbers.forEach((number, index) => {
        // تحديد النص الصحيح بناءً على اسم النموذج
        let waitingTimeLabel;

        // تحقق من اسم النموذج
        if (formName === 'senior_paramedic_outside') {
            waitingTimeLabel = "زمن الاستجابة (بالدقائق)"; // نموذج كبار المسعفين
        } else if (formName === 'support_request') {
            waitingTimeLabel = "زمن بقاء البلاغ في قائمة الترحيل (بالدقائق)"; // نموذج طلب الدعم
        } else {
            waitingTimeLabel = "زمن البلاغ (بالدقائق)"; // نص افتراضي في حالة عدم المطابقة
        }

        formText += `رقم البلاغ: ${number.value}, نوع البلاغ: ${reportTypes[index].value}, ${waitingTimeLabel}: ${waitingTimes[index].value}\n`;
    });
}

        formText += `*=== المخرجات ===*\n\n`;
        formText += `متوسط زمن الاستجابة للبلاغات (بالدقائق): ${document.getElementById('response_time_to_intervention').value}\n`;
        formText += `*=== ملاحظات النوبة ===*\n\n`;
        formText += `عدد الغياب في المناوبة: ${document.getElementById('absence_in_shift').value}\n`;
        formText += `نقاط اسعافية مكشوفة: ${document.getElementById('units_notes').value}\n`;
	    //ملاحظات عامة مربع تحديد لا يوجد من هنا يبداء
	let notes = document.getElementById('no_notes_checkbox').checked
	    ? "لا يوجد ملاحظات"
	    : document.getElementById('outsider_notes').value;
	
	formText += `ملاحظات: ${notes}\n`;
        formText += `اسم كبير المسعفين: ${document.getElementById('senior_paramedic_name').value}\n`;
} else if (formName === 'rapid_response_reports') {
    formText += `*=== نموذج بلاغات التدخل السريع ===*\n\n`;
    formText += `قطاع عمليات الغرب: ${document.getElementById('sector_west').value}\n`;
    formText += `قطاع عمليات الشرق: ${document.getElementById('sector_east').value}\n`;
    formText += `قطاع عمليات الوسط: ${document.getElementById('sector_central').value}\n`;
    formText += `قطاع عمليات الشمال: ${document.getElementById('sector_north').value}\n`;
    formText += `قطاع عمليات الجنوب: ${document.getElementById('sector_south').value}\n`;
    formText += `*إجمالي بلاغات التدخل السريع:* ${document.getElementById('total_rapid_response_reports').value}\n`;
    formText += `*قائد المنطقة المناوب:* ${document.getElementById('senior_paramedic_rapid_response_reports').value}\n`;
} else if (formName === 'attendance') {
    calculateTotals(); // تأكد من استدعاء الفنكشن لحساب القيم
    formText += `*=== نموذج تحضير منطقة الرياض ===*\n\n`;
    formText += `*=== تحضير قطاعات الرياض الداخلية ===*\n\n`;
    formText += `التاريخ: ${document.getElementById('date').value}\n`;
    formText += `المناوبة : ${document.getElementById('shift').value}\n`;
    
    // القطاعات الداخلية
    formText += `*قطاع الوسط* - وحدات: ${document.getElementById('center_sector_teams').value}، مركبات عاملة: ${document.getElementById('center_sector_vehicles_work').value} متعطلة: ${document.getElementById('center_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الشرق* - وحدات: ${document.getElementById('east_sector_teams').value}، مركبات عاملة: ${document.getElementById('east_sector_vehicles_work').value} متعطلة: ${document.getElementById('east_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الغرب* - وحدات: ${document.getElementById('west_sector_teams').value}، مركبات عاملة: ${document.getElementById('west_sector_vehicles_work').value} متعطلة: ${document.getElementById('west_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الشمال* - وحدات: ${document.getElementById('north_sector_teams').value}، مركبات عاملة: ${document.getElementById('north_sector_vehicles_work').value} متعطلة: ${document.getElementById('north_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الجنوب* - وحدات: ${document.getElementById('south_sector_teams').value}، مركبات عاملة: ${document.getElementById('south_sector_vehicles_work').value} متعطلة: ${document.getElementById('south_sector_vehicles_broken').value}\n`;

    // إحصائية القطاعات الداخلية
    formText += `\n*=== الوضع الراهن لمدينة الرياض ===*\n`;
    formText += `إجمالي الفرق العاملة: ${document.getElementById('internal_teams_total').value}\n`;
    formText += `إجمالي المركبات العاملة: ${document.getElementById('internal_vehicles_total').value}\n`;
    formText += `إجمالي المركبات المتعطلة: ${document.getElementById('internal_broken_vehicles_total').value}\n`;

    // القطاعات الخارجية
    formText += `\n*=== تحضير قطاعات المحافظات ===*\n`;
    formText += `*قطاع رماح* - وحدات: ${document.getElementById('ramah_sector_teams').value}، مركبات عاملة: ${document.getElementById('ramah_sector_vehicles_work').value} متعطلة: ${document.getElementById('ramah_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الأفلاج* - وحدات: ${document.getElementById('al_aflag_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_aflag_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_aflag_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الخرج* - وحدات: ${document.getElementById('al_kharj_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_kharj_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_kharj_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الدرعية* - وحدات: ${document.getElementById('al_dariya_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_dariya_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_dariya_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الدوادمي* - وحدات: ${document.getElementById('al_dawadmi_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_dawadmi_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_dawadmi_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الزلفي* - وحدات: ${document.getElementById('al_zulfi_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_zulfi_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_zulfi_sector_vehicles_broken').value}\n`;
    formText += `*قطاع الغاط* - وحدات: ${document.getElementById('al_ghat_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_ghat_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_ghat_sector_vehicles_broken').value}\n`;
    formText += `*قطاع القويعية* - وحدات: ${document.getElementById('al_quwayiyah_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_quwayiyah_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_quwayiyah_sector_vehicles_broken').value}\n`;
    formText += `*قطاع المجمعة* - وحدات: ${document.getElementById('al_majmaah_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_majmaah_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_majmaah_sector_vehicles_broken').value}\n`;
    formText += `*قطاع المزاحمية* - وحدات: ${document.getElementById('al_muzahimiyah_sector_teams').value}، مركبات عاملة: ${document.getElementById('al_muzahimiyah_sector_vehicles_work').value} متعطلة: ${document.getElementById('al_muzahimiyah_sector_vehicles_broken').value}\n`;
    formText += `*قطاع حوطة بني تميم* - وحدات: ${document.getElementById('hawtat_banee_tamim_sector_teams').value}، مركبات عاملة: ${document.getElementById('hawtat_banee_tamim_sector_vehicles_work').value} متعطلة: ${document.getElementById('hawtat_banee_tamim_sector_vehicles_broken').value}\n`;
    formText += `*قطاع شقراء* - وحدات: ${document.getElementById('shaqra_sector_teams').value}، مركبات عاملة: ${document.getElementById('shaqra_sector_vehicles_work').value} متعطلة: ${document.getElementById('shaqra_sector_vehicles_broken').value}\n`;
    formText += `*قطاع عفيف* - وحدات: ${document.getElementById('afif_sector_teams').value}، مركبات عاملة: ${document.getElementById('afif_sector_vehicles_work').value} متعطلة: ${document.getElementById('afif_sector_vehicles_broken').value}\n`;
    formText += `*قطاع وادي الدواسر* - وحدات: ${document.getElementById('wadi_al_dawasir_sector_teams').value}، مركبات عاملة: ${document.getElementById('wadi_al_dawasir_sector_vehicles_work').value} متعطلة: ${document.getElementById('wadi_al_dawasir_sector_vehicles_broken').value}\n`;
    // إحصائية القطاعات الخارجية
    formText += `\n*=== الوضع الراهن لقطاعات المحاظفات ===*\n`;
    formText += `إجمالي الفرق العاملة: ${document.getElementById('external_teams_total').value}\n`;
    formText += `إجمالي المركبات العاملة: ${document.getElementById('external_vehicles_total').value}\n`;
    formText += `إجمالي المركبات المتعطلة: ${document.getElementById('external_broken_vehicles_total').value}\n`;
    // الإحصائيات الإجمالية لمنطقة الرياض
    formText += `\n*=== الوضع الراهن لمنطقة الرياض ===*\n`;
    formText += `إجمالي الفرق العاملة: ${document.getElementById('total_working_teams_riyadh').value}\n`;
    formText += `إجمالي المركبات العاملة: ${document.getElementById('total_working_vehicles_riyadh').value}\n`;
    formText += `إجمالي المركبات المتعطلة: ${document.getElementById('total_broken_vehicles_riyadh').value}\n`;
    formText += `نسخة التحديث : ${document.getElementById('updateattendance').value}\n`;
    formText += `اسم قائد المنطقة : ${document.getElementById('senior_paramedic_attendance').value}\n`;
} else if (formName === 'regional_leader_form') {
    formText += `\n*=== نموذج قائد المنطقة المناوب ===*\n\n`;
    formText += `المناوبة: ${document.getElementById('shift').value}\n`;
    formText += `التاريخ: ${document.getElementById('date').value}\n`;
    formText += `اسم قائد المنطقة: ${document.getElementById('region_leader').value}\n`;
    formText += `رقم الجوال: ${document.getElementById('region_leader_phone').value}\n`;
    formText += `رقم القناة: ${document.getElementById('region_leader_channel').value}\n\n`;
    
    formText += `*=== كبار المسعفين حسب القطاع ===*\n`;
    
    formText += `كبير المسعفين قطاع الشرق: ${document.getElementById('east_leader').value}\n`;
    formText += `رقم قناة الشرق: ${document.getElementById('east_channel').value}\n\n`;
    
    formText += `كبير المسعفين قطاع الغرب: ${document.getElementById('west_leader').value}\n`;
    formText += `رقم قناة الغرب: ${document.getElementById('west_channel').value}\n\n`;
    
    formText += `كبير المسعفين قطاع الجنوب: ${document.getElementById('south_leader').value}\n`;
    formText += `رقم قناة الجنوب: ${document.getElementById('south_channel').value}\n\n`;
    
    formText += `كبير المسعفين قطاع الوسط: ${document.getElementById('central_leader').value}\n`;
    formText += `رقم قناة الوسط: ${document.getElementById('central_channel').value}\n\n`;
    
    formText += `كبير المسعفين قطاع الشمال: ${document.getElementById('north_leader').value}\n`;
    formText += `رقم قناة الشمال: ${document.getElementById('north_channel').value}\n\n`;
}

	
    console.log(formText); // تأكيد عرض البيانات المجمعة

    // تشفير النص
    const encodedText = encodeURIComponent(formText);

    // التحقق من نوع الجهاز أو المتصفح
    if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
        // على أجهزة iOS، استخدم رابط واتساب المباشر
        const whatsappUrl = `whatsapp://send?text=${encodedText}`;
        window.open(whatsappUrl, '_blank');
    } else {
        // على باقي الأجهزة، استخدم wa.me لفتح الرابط
        const whatsappUrl = `https://wa.me/?text=${encodedText}`;
        window.open(whatsappUrl, '_blank');
    }
}
	    
function showCopyNotification() {
    const notification = document.getElementById('copyNotification');
    notification.style.display = 'block';
    setTimeout(() => {
        notification.style.display = 'none';
    }, 3000);
}


    function toggleOtherSectorInput() {
        const sectorSelect = document.getElementById("sector");
        const otherSectorInput = document.getElementById("other_sector");
        if (sectorSelect.value === "other") {
            otherSectorInput.style.display = "block";
        } else {
            otherSectorInput.style.display = "none";
        }
    }

    //إذا كانت الساعة الآن 6:41 مساءً في السعودية (18:41)، سيتم إنقاص 6 ساعات، وسيصبح الوقت 12:41 ظهرًا. وبالتالي، الفترة الزمنية السابقة التي سيتم اختيارها هي "12:00 إلى 18:00"
function updateDate(formName) {
    // التأكد من أن التعديل يتم فقط للنموذج المحدد
    if (formName === 'senior_paramedic') {
        const currentTime = new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" });
        const currentHours = new Date(currentTime).getHours();
        const currentDate = new Date(currentTime);

        let dateToSet;

        // إذا كانت الفترة الزمنية من 00:00 إلى 04:00
        if (currentHours >= 0 && currentHours < 4) {
            // تاريخ اليوم السابق
            currentDate.setDate(currentDate.getDate() - 1);
            dateToSet = currentDate.toISOString().split('T')[0]; // تنسيق التاريخ إلى YYYY-MM-DD
        } else {
            // تاريخ اليوم الحالي
            dateToSet = currentDate.toISOString().split('T')[0];
        }

        // تعيين التاريخ في خانة الإدخال الخاصة بالتاريخ
        document.getElementById('form_date').value = dateToSet; // تأكد من استخدام id الفريد
    }
}


//فنكشن حساب الوقت والتاريخ في نموذج كبير المسعفين الداخلي فقط بشكل تلقائي واستعادة التاريخ بعد ساعة 00 ليوم سابق  لمدة 4 ساعات فقط
function selectCurrentTime(formName) {
        // الحصول على التوقيت الحالي حسب توقيت السعودية (UTC+3)
        const currentTime = new Date().toLocaleString("en-US", { timeZone: "Asia/Riyadh" });
        const currentHours = new Date(currentTime).getHours();
        
        // تقليل الساعات بمقدار 6 للحصول على الفترة الزمنية السابقة
        let previousHours = currentHours - 3;
        
        // إذا كانت الساعات أقل من 0، نعيدها إلى نطاق 24 ساعة
        if (previousHours < 0) {
            previousHours += 24;
        }
    
        let selectedOption = '';
    
        // تحديد الفترة الزمنية بناءً على الساعات السابقة
        if (previousHours >= 0 && previousHours < 6) {
            selectedOption = "0:00 إلى 6:00";
        } else if (previousHours >= 6 && previousHours < 12) {
            selectedOption = "6:00 إلى 12:00";
        } else if (previousHours >= 12 && previousHours < 18) {
            selectedOption = "12:00 إلى 18:00";
        } else if (previousHours >= 18 && previousHours < 24) {
            selectedOption = "18:00 إلى 0:00";
        }
    
        // العثور على جميع عناصر select التي تحتوي على التوقيت
        const timeSelects = document.querySelectorAll('select[id="time"]');
    
        // تطبيق التوقيت المحدد على جميع النماذج
        timeSelects.forEach(function(timeSelect) {
            timeSelect.value = selectedOption;
        });
    
        // تحديث تاريخ اليوم في خانة التاريخ فقط للنموذج المحدد
        updateDate(formName); // استدعاء الدالة مع تمرير formName
    }

document.addEventListener("DOMContentLoaded", function () {
    // الحصول على المعاملات من رابط URL
    const urlParams = new URLSearchParams(window.location.search);
    const formType = urlParams.get('formType');  // الحصول على قيمة formType من الرابط

    // تحقق مما إذا كان هناك معامل formType في الرابط
    if (formType) {
        loadForm(formType);  // تحميل النموذج المطلوب إذا كان معامل formType موجود
    } else {
        loadForm('senior_paramedic');  // تحميل النموذج الافتراضي إذا لم يوجد معامل
    }
    
    // تحديد التوقيت الحالي تلقائياً
    selectCurrentTime();  
});

// فنكشن حساب إجمالي مركبات وفرق منطقة الرياض  
function calculateTotals() {
    // حساب إجمالي مركبات القطاعات الداخلية العاملة
    const internal_vehicles_total = 
        (parseInt(document.getElementById('center_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('east_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('west_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('north_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('south_sector_vehicles_work').value) || 0);

    // عرض إجمالي مركبات القطاعات الداخلية
    document.getElementById('internal_vehicles_total').value = internal_vehicles_total;

    // حساب إجمالي مركبات القطاعات الخارجية العاملة
    const external_vehicles_total = 
        (parseInt(document.getElementById('ramah_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_aflag_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_kharj_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_dariya_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_dawadmi_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_zulfi_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_ghat_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_quwayiyah_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_majmaah_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('al_muzahimiyah_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('hawtat_banee_tamim_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('shaqra_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('afif_sector_vehicles_work').value) || 0) +
        (parseInt(document.getElementById('wadi_al_dawasir_sector_vehicles_work').value) || 0);

    // عرض إجمالي مركبات القطاعات الخارجية
    document.getElementById('external_vehicles_total').value = external_vehicles_total;

    // حساب إجمالي المركبات العاملة في منطقة الرياض
    const total_working_vehicles_riyadh = internal_vehicles_total + external_vehicles_total;
    document.getElementById('total_working_vehicles_riyadh').value = total_working_vehicles_riyadh;

    // حساب إجمالي الفرق العاملة للقطاعات الداخلية
    const internal_teams_total = 
        (parseInt(document.getElementById('center_sector_teams').value) || 0) +
        (parseInt(document.getElementById('east_sector_teams').value) || 0) +
        (parseInt(document.getElementById('west_sector_teams').value) || 0) +
        (parseInt(document.getElementById('north_sector_teams').value) || 0) +
        (parseInt(document.getElementById('south_sector_teams').value) || 0);
    document.getElementById('internal_teams_total').value = internal_teams_total;

    // حساب إجمالي الفرق العاملة للقطاعات الخارجية
    const external_teams_total = 
        (parseInt(document.getElementById('ramah_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_aflag_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_kharj_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_dariya_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_dawadmi_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_zulfi_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_ghat_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_quwayiyah_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_majmaah_sector_teams').value) || 0) +
        (parseInt(document.getElementById('al_muzahimiyah_sector_teams').value) || 0) +
        (parseInt(document.getElementById('hawtat_banee_tamim_sector_teams').value) || 0) +
        (parseInt(document.getElementById('shaqra_sector_teams').value) || 0) +
        (parseInt(document.getElementById('afif_sector_teams').value) || 0) +
        (parseInt(document.getElementById('wadi_al_dawasir_sector_teams').value) || 0);
    document.getElementById('external_teams_total').value = external_teams_total;

    // حساب إجمالي الفرق العاملة في منطقة الرياض
    const total_working_teams_riyadh = internal_teams_total + external_teams_total;
    document.getElementById('total_working_teams_riyadh').value = total_working_teams_riyadh;

    // حساب إجمالي المركبات المتعطلة للقطاعات الداخلية
    const internal_broken_vehicles_total = 
        (parseInt(document.getElementById('center_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('east_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('west_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('north_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('south_sector_vehicles_broken').value) || 0);
    document.getElementById('internal_broken_vehicles_total').value = internal_broken_vehicles_total;

    // حساب إجمالي المركبات المتعطلة للقطاعات الخارجية
    const external_broken_vehicles_total = 
        (parseInt(document.getElementById('ramah_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_aflag_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_kharj_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_dariya_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_dawadmi_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_zulfi_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_ghat_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_quwayiyah_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_majmaah_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('al_muzahimiyah_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('hawtat_banee_tamim_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('shaqra_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('afif_sector_vehicles_broken').value) || 0) +
        (parseInt(document.getElementById('wadi_al_dawasir_sector_vehicles_broken').value) || 0);
    document.getElementById('external_broken_vehicles_total').value = external_broken_vehicles_total;

    // حساب إجمالي المركبات المتعطلة في منطقة الرياض
    const total_broken_vehicles_riyadh = internal_broken_vehicles_total + external_broken_vehicles_total;
    document.getElementById('total_broken_vehicles_riyadh').value = total_broken_vehicles_riyadh;
}


	        // فنكشن حساب تحضير التدخل السريع 
    function calculateTotal() {
    const sectorWest = parseInt(document.getElementById('sector_west').value) || 0;
    const sectorEast = parseInt(document.getElementById('sector_east').value) || 0;
    const sectorCentral = parseInt(document.getElementById('sector_central').value) || 0;
    const sectorNorth = parseInt(document.getElementById('sector_north').value) || 0;
    const sectorSouth = parseInt(document.getElementById('sector_south').value) || 0;

    const total = sectorWest + sectorEast + sectorCentral + sectorNorth + sectorSouth;

    document.getElementById('total_rapid_response_reports').value = total;
}

    function toggleFieldsBasedOnSupportStatus() {
        const supportStatus = document.getElementById('support_status').value;
        const supportDetails = document.getElementById('supportDetails');
        const regionLeaderName = document.getElementById('region_leader_name').value;

        
        if (supportStatus === 'مرفوض') {
            supportDetails.style.display = 'none'; // إخفاء الحقول عند الرفض
        } else {
            supportDetails.style.display = 'block'; // إظهار الحقول عند القبول
        }
    }

    // استدعاء الدالة عند تحميل الصفحة
    window.onload = function() {
        toggleFieldsBasedOnSupportStatus(); // لضمان تحديث العرض بناءً على القيمة الحالية لحالة الدعم
    };

    // إجمالي بلاغات القطاع:
    function calculateTotalReports() {
        // Get values from inputs and convert them to integers
        var ecoReports = parseInt(document.getElementById('eco_reports').value) || 0;
        var deltaReports = parseInt(document.getElementById('delta_reports').value) || 0;
        var charlieReports = parseInt(document.getElementById('charlie_reports').value) || 0;
        var bravoReports = parseInt(document.getElementById('bravo_reports').value) || 0;
        var alphaReports = parseInt(document.getElementById('alpha_reports').value) || 0;
        var omegaReports = parseInt(document.getElementById('omega_reports').value) || 0;
        
        // Calculate total
        var totalReports = ecoReports + deltaReports + charlieReports + bravoReports + alphaReports + omegaReports;
        
        // Set the total in the readonly input field
        document.getElementById('total_reports').value = totalReports;
    }
    
    // Add event listeners to update total when any input changes
    document.getElementById('eco_reports').addEventListener('input', calculateTotalReports);
    document.getElementById('delta_reports').addEventListener('input', calculateTotalReports);
    document.getElementById('charlie_reports').addEventListener('input', calculateTotalReports);
    document.getElementById('bravo_reports').addEventListener('input', calculateTotalReports);
    document.getElementById('alpha_reports').addEventListener('input', calculateTotalReports);
    document.getElementById('omega_reports').addEventListener('input', calculateTotalReports);
    
    function toggleEndTimeFields() {
        const isChecked = document.getElementById('event_not_ended').checked;
        const endHourField = document.getElementById('end_hour');
        const endMinuteField = document.getElementById('end_minute');
        
        if (isChecked) {
            // إخفاء الحقول إذا تم اختيار "لم ينتهِ"
            endHourField.value = '';
            endMinuteField.value = '';
            endHourField.disabled = true;
            endMinuteField.disabled = true;
        } else {
            // إعادة تفعيل الحقول إذا تم إلغاء اختيار "لم ينتهِ"
            endHourField.disabled = false;
            endMinuteField.disabled = false;
        }
    }
    
        // فنكشن حساب اجمالي الحالات
    function calculateTotalVictimes() {
    const transferdVictimes = parseInt(document.getElementById('transferd_victimes').value) || 0;
    const nonTransferdVictimes = parseInt(document.getElementById('non_transferd_victimes').value) || 0;
    const totalVictimes = transferdVictimes + nonTransferdVictimes;
    
    document.getElementById('total_victimes').value = totalVictimes;
}

function toggleReports() {
    const isChecked = document.getElementById('no_reports').checked;
    const reportNumbers = document.querySelectorAll('.report-number');
    const reportTypes = document.querySelectorAll('.report-type');
    const waitingTimes = document.querySelectorAll('.waiting_time');
    const addReportBtn = document.getElementById('add-report-btn');

    // إذا كانت checkbox مفعّلة (أي تم اختيار "لا يوجد بلاغات")
    if (isChecked) {
        // تعطيل حقول الإدخال وتفريغ القيم
        reportNumbers.forEach(input => {
            input.value = '';
            input.disabled = true;
        });
        reportTypes.forEach(input => {
            input.value = '';
            input.disabled = true;
        });
        waitingTimes.forEach(input => {
            input.value = '';
            input.disabled = true;
        });

        // تعطيل زر إضافة بلاغ
        addReportBtn.disabled = true;
    } else {
        // إعادة تفعيل حقول الإدخال
        reportNumbers.forEach(input => {
            input.disabled = false;
        });
        reportTypes.forEach(input => {
            input.disabled = false;
        });
        waitingTimes.forEach(input => {
            input.disabled = false;
        });

        // إعادة تفعيل زر إضافة بلاغ
        addReportBtn.disabled = false;
    }
}



    </script>
        <footer>
        <div style="font-size: 14px; color: #ccc; text-align: center;">
            الإصدار 1.4
        </div>
    </footer>
</body>
</html>
